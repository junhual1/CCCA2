ansible-playbook [core 2.13.9]
  config file = None
  configured module search path = ['/home/junhual1/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules']
  ansible python module location = /home/junhual1/.local/lib/python3.8/site-packages/ansible
  ansible collection location = /home/junhual1/.ansible/collections:/usr/share/ansible/collections
  executable location = /home/junhual1/.local/bin/ansible-playbook
  python version = 3.8.16 (default, Mar  2 2023, 03:21:46) [GCC 11.2.0]
  jinja version = 3.1.2
  libyaml = True
No config file found; using defaults
redirecting (type: modules) community.general.filesystem to community.general.system.filesystem
Skipping callback 'default', as we already have a stdout callback.
Skipping callback 'minimal', as we already have a stdout callback.
Skipping callback 'oneline', as we already have a stdout callback.

PLAYBOOK: mrc.yaml *************************************************************
2 plays in mrc.yaml

PLAY [localhost] ***************************************************************

TASK [Gathering Facts] *********************************************************
task path: /home/junhual1/ccc/ass2/ansible/mrc.yaml:1
ok: [localhost]
META: ran handlers

TASK [openstack-volume : Create volume(s) on NeCTAR] ***************************
task path: /home/junhual1/ccc/ass2/ansible/roles/openstack-volume/tasks/main.yaml:3
ok: [localhost] => (item={'vol_name': 'sample-vol-1', 'vol_size': 10}) => {"ansible_loop_var": "item", "changed": false, "item": {"vol_name": "sample-vol-1", "vol_size": 10}, "volume": {"attachments": [{"attached_at": "2023-05-03T02:50:33.000000", "attachment_id": "ffafeabb-1350-4a37-a5f2-f85d6ac73b97", "device": "/dev/vdb", "host_name": null, "id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1", "server_id": "400d449d-7f6a-43e8-8621-e841f4728034", "volume_id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1"}], "availability_zone": "melbourne-qh2-uom", "consistency_group_id": null, "created_at": "2023-05-03T02:50:03.000000", "description": null, "extended_replication_status": null, "group_id": null, "host": null, "id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1", "image_id": null, "is_bootable": false, "is_encrypted": false, "is_multiattach": false, "metadata": {}, "migration_id": null, "migration_status": null, "name": "sample-vol-1", "project_id": "cd360e00373143fea9f60dc2d48c689d", "replication_driver_data": null, "replication_status": null, "scheduler_hints": null, "size": 10, "snapshot_id": null, "source_volume_id": null, "status": "in-use", "updated_at": "2023-05-03T02:50:33.000000", "user_id": "decec160246640e2958633e06a4822fb", "volume_image_metadata": null, "volume_type": "standard"}}

TASK [openstack-volume : Create a list of volume Ids] **************************
task path: /home/junhual1/ccc/ass2/ansible/roles/openstack-volume/tasks/main.yaml:15
ok: [localhost] => (item={'changed': False, 'volume': {'attachments': [{'id': '6f6d2de6-9ca4-4f55-852a-94777f3a04e1', 'attachment_id': 'ffafeabb-1350-4a37-a5f2-f85d6ac73b97', 'volume_id': '6f6d2de6-9ca4-4f55-852a-94777f3a04e1', 'server_id': '400d449d-7f6a-43e8-8621-e841f4728034', 'host_name': None, 'device': '/dev/vdb', 'attached_at': '2023-05-03T02:50:33.000000'}], 'availability_zone': 'melbourne-qh2-uom', 'consistency_group_id': None, 'created_at': '2023-05-03T02:50:03.000000', 'updated_at': '2023-05-03T02:50:33.000000', 'description': None, 'extended_replication_status': None, 'group_id': None, 'host': None, 'image_id': None, 'is_bootable': False, 'is_encrypted': False, 'is_multiattach': False, 'migration_id': None, 'migration_status': None, 'project_id': 'cd360e00373143fea9f60dc2d48c689d', 'replication_driver_data': None, 'replication_status': None, 'scheduler_hints': None, 'size': 10, 'snapshot_id': None, 'source_volume_id': None, 'status': 'in-use', 'user_id': 'decec160246640e2958633e06a4822fb', 'volume_image_metadata': None, 'volume_type': 'standard', 'id': '6f6d2de6-9ca4-4f55-852a-94777f3a04e1', 'name': 'sample-vol-1', 'metadata': {}}, 'diff': {'before': {'attachments': [{'id': '6f6d2de6-9ca4-4f55-852a-94777f3a04e1', 'attachment_id': 'ffafeabb-1350-4a37-a5f2-f85d6ac73b97', 'volume_id': '6f6d2de6-9ca4-4f55-852a-94777f3a04e1', 'server_id': '400d449d-7f6a-43e8-8621-e841f4728034', 'host_name': None, 'device': '/dev/vdb', 'attached_at': '2023-05-03T02:50:33.000000'}], 'availability_zone': 'melbourne-qh2-uom', 'consistency_group_id': None, 'created_at': '2023-05-03T02:50:03.000000', 'updated_at': '2023-05-03T02:50:33.000000', 'description': None, 'extended_replication_status': None, 'group_id': None, 'host': None, 'image_id': None, 'is_bootable': False, 'is_encrypted': False, 'is_multiattach': False, 'migration_id': None, 'migration_status': None, 'project_id': 'cd360e00373143fea9f60dc2d48c689d', 'replication_driver_data': None, 'replication_status': None, 'scheduler_hints': None, 'size': 10, 'snapshot_id': None, 'source_volume_id': None, 'status': 'in-use', 'user_id': 'decec160246640e2958633e06a4822fb', 'volume_image_metadata': None, 'volume_type': 'standard', 'id': '6f6d2de6-9ca4-4f55-852a-94777f3a04e1', 'name': 'sample-vol-1', 'metadata': {}}, 'after': {'attachments': [{'id': '6f6d2de6-9ca4-4f55-852a-94777f3a04e1', 'attachment_id': 'ffafeabb-1350-4a37-a5f2-f85d6ac73b97', 'volume_id': '6f6d2de6-9ca4-4f55-852a-94777f3a04e1', 'server_id': '400d449d-7f6a-43e8-8621-e841f4728034', 'host_name': None, 'device': '/dev/vdb', 'attached_at': '2023-05-03T02:50:33.000000'}], 'availability_zone': 'melbourne-qh2-uom', 'consistency_group_id': None, 'created_at': '2023-05-03T02:50:03.000000', 'updated_at': '2023-05-03T02:50:33.000000', 'description': None, 'extended_replication_status': None, 'group_id': None, 'host': None, 'image_id': None, 'is_bootable': False, 'is_encrypted': False, 'is_multiattach': False, 'migration_id': None, 'migration_status': None, 'project_id': 'cd360e00373143fea9f60dc2d48c689d', 'replication_driver_data': None, 'replication_status': None, 'scheduler_hints': None, 'size': 10, 'snapshot_id': None, 'source_volume_id': None, 'status': 'in-use', 'user_id': 'decec160246640e2958633e06a4822fb', 'volume_image_metadata': None, 'volume_type': 'standard', 'id': '6f6d2de6-9ca4-4f55-852a-94777f3a04e1', 'name': 'sample-vol-1', 'metadata': {}}}, 'invocation': {'module_args': {'display_name': 'sample-vol-1', 'size': 10, 'availability_zone': 'melbourne-qh2-uom', 'wait': True, 'timeout': 600, 'state': 'present', 'name': 'sample-vol-1', 'interface': 'public', 'sdk_log_level': 'INFO', 'is_bootable': False, 'auth_type': None, 'auth': None, 'region_name': None, 'validate_certs': None, 'ca_cert': None, 'client_cert': None, 'client_key': None, 'api_timeout': None, 'sdk_log_path': None, 'description': None, 'image': None, 'is_multiattach': None, 'metadata': None, 'scheduler_hints': None, 'snapshot': None, 'volume': None, 'volume_type': None}}, 'failed': False, 'item': {'vol_name': 'sample-vol-1', 'vol_size': 10}, 'ansible_loop_var': 'item'}) => {"ansible_facts": {"os_vol_ids": ["6f6d2de6-9ca4-4f55-852a-94777f3a04e1"]}, "ansible_loop_var": "item", "changed": false, "item": {"ansible_loop_var": "item", "changed": false, "diff": {"after": {"attachments": [{"attached_at": "2023-05-03T02:50:33.000000", "attachment_id": "ffafeabb-1350-4a37-a5f2-f85d6ac73b97", "device": "/dev/vdb", "host_name": null, "id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1", "server_id": "400d449d-7f6a-43e8-8621-e841f4728034", "volume_id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1"}], "availability_zone": "melbourne-qh2-uom", "consistency_group_id": null, "created_at": "2023-05-03T02:50:03.000000", "description": null, "extended_replication_status": null, "group_id": null, "host": null, "id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1", "image_id": null, "is_bootable": false, "is_encrypted": false, "is_multiattach": false, "metadata": {}, "migration_id": null, "migration_status": null, "name": "sample-vol-1", "project_id": "cd360e00373143fea9f60dc2d48c689d", "replication_driver_data": null, "replication_status": null, "scheduler_hints": null, "size": 10, "snapshot_id": null, "source_volume_id": null, "status": "in-use", "updated_at": "2023-05-03T02:50:33.000000", "user_id": "decec160246640e2958633e06a4822fb", "volume_image_metadata": null, "volume_type": "standard"}, "before": {"attachments": [{"attached_at": "2023-05-03T02:50:33.000000", "attachment_id": "ffafeabb-1350-4a37-a5f2-f85d6ac73b97", "device": "/dev/vdb", "host_name": null, "id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1", "server_id": "400d449d-7f6a-43e8-8621-e841f4728034", "volume_id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1"}], "availability_zone": "melbourne-qh2-uom", "consistency_group_id": null, "created_at": "2023-05-03T02:50:03.000000", "description": null, "extended_replication_status": null, "group_id": null, "host": null, "id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1", "image_id": null, "is_bootable": false, "is_encrypted": false, "is_multiattach": false, "metadata": {}, "migration_id": null, "migration_status": null, "name": "sample-vol-1", "project_id": "cd360e00373143fea9f60dc2d48c689d", "replication_driver_data": null, "replication_status": null, "scheduler_hints": null, "size": 10, "snapshot_id": null, "source_volume_id": null, "status": "in-use", "updated_at": "2023-05-03T02:50:33.000000", "user_id": "decec160246640e2958633e06a4822fb", "volume_image_metadata": null, "volume_type": "standard"}}, "failed": false, "invocation": {"module_args": {"api_timeout": null, "auth": null, "auth_type": null, "availability_zone": "melbourne-qh2-uom", "ca_cert": null, "client_cert": null, "client_key": null, "description": null, "display_name": "sample-vol-1", "image": null, "interface": "public", "is_bootable": false, "is_multiattach": null, "metadata": null, "name": "sample-vol-1", "region_name": null, "scheduler_hints": null, "sdk_log_level": "INFO", "sdk_log_path": null, "size": 10, "snapshot": null, "state": "present", "timeout": 600, "validate_certs": null, "volume": null, "volume_type": null, "wait": true}}, "item": {"vol_name": "sample-vol-1", "vol_size": 10}, "volume": {"attachments": [{"attached_at": "2023-05-03T02:50:33.000000", "attachment_id": "ffafeabb-1350-4a37-a5f2-f85d6ac73b97", "device": "/dev/vdb", "host_name": null, "id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1", "server_id": "400d449d-7f6a-43e8-8621-e841f4728034", "volume_id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1"}], "availability_zone": "melbourne-qh2-uom", "consistency_group_id": null, "created_at": "2023-05-03T02:50:03.000000", "description": null, "extended_replication_status": null, "group_id": null, "host": null, "id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1", "image_id": null, "is_bootable": false, "is_encrypted": false, "is_multiattach": false, "metadata": {}, "migration_id": null, "migration_status": null, "name": "sample-vol-1", "project_id": "cd360e00373143fea9f60dc2d48c689d", "replication_driver_data": null, "replication_status": null, "scheduler_hints": null, "size": 10, "snapshot_id": null, "source_volume_id": null, "status": "in-use", "updated_at": "2023-05-03T02:50:33.000000", "user_id": "decec160246640e2958633e06a4822fb", "volume_image_metadata": null, "volume_type": "standard"}}}

TASK [openstack-volume : ansible.builtin.debug] ********************************
task path: /home/junhual1/ccc/ass2/ansible/roles/openstack-volume/tasks/main.yaml:20
ok: [localhost] => {
    "msg": "Volume ['6f6d2de6-9ca4-4f55-852a-94777f3a04e1'] has been created."
}
META: role_complete for localhost

TASK [openstack-security-group : Create a security group] **********************
task path: /home/junhual1/ccc/ass2/ansible/roles/openstack-security-group/tasks/main.yaml:3
changed: [localhost] => (item={'name': 'db_tcp', 'description': 'sg for Couchdb access on 5984', 'protocol': 'tcp', 'port_range_min': 22, 'port_range_max': 22, 'remote_ip_prefix': '0.0.0.0/0'}) => {"ansible_loop_var": "item", "changed": true, "item": {"description": "sg for Couchdb access on 5984", "name": "db_tcp", "port_range_max": 22, "port_range_min": 22, "protocol": "tcp", "remote_ip_prefix": "0.0.0.0/0"}, "security_group": {"created_at": "2023-05-03T02:31:50Z", "description": "sg for Couchdb access on 5984", "id": "658bdd56-1453-4023-997f-7ee3c4294b0d", "name": "db_tcp", "project_id": "cd360e00373143fea9f60dc2d48c689d", "revision_number": 17, "security_group_rules": [{"created_at": "2023-05-03T02:43:51Z", "description": "", "direction": "egress", "ethertype": "IPv4", "id": "2a975f9d-1233-4acb-8073-cb4cf0fc370a", "normalized_cidr": "0.0.0.0/0", "port_range_max": null, "port_range_min": null, "project_id": "cd360e00373143fea9f60dc2d48c689d", "protocol": null, "remote_address_group_id": null, "remote_group_id": null, "remote_ip_prefix": "0.0.0.0/0", "revision_number": 0, "security_group_id": "658bdd56-1453-4023-997f-7ee3c4294b0d", "standard_attr_id": 104643283, "tags": [], "tenant_id": "cd360e00373143fea9f60dc2d48c689d", "updated_at": "2023-05-03T02:43:51Z"}, {"created_at": "2023-05-03T02:43:51Z", "description": "", "direction": "egress", "ethertype": "IPv6", "id": "d5d35c1b-76a0-4b80-965f-ee4482356d12", "normalized_cidr": "::/0", "port_range_max": null, "port_range_min": null, "project_id": "cd360e00373143fea9f60dc2d48c689d", "protocol": null, "remote_address_group_id": null, "remote_group_id": null, "remote_ip_prefix": "::/0", "revision_number": 0, "security_group_id": "658bdd56-1453-4023-997f-7ee3c4294b0d", "standard_attr_id": 104643280, "tags": [], "tenant_id": "cd360e00373143fea9f60dc2d48c689d", "updated_at": "2023-05-03T02:43:51Z"}, {"created_at": "2023-05-03T02:34:50Z", "description": "", "direction": "ingress", "ethertype": "IPv4", "id": "e28ae89f-46bc-4d26-babc-a6af1c9e199b", "normalized_cidr": "0.0.0.0/0", "port_range_max": 5984, "port_range_min": 5984, "project_id": "cd360e00373143fea9f60dc2d48c689d", "protocol": "tcp", "remote_address_group_id": null, "remote_group_id": null, "remote_ip_prefix": "0.0.0.0/0", "revision_number": 0, "security_group_id": "658bdd56-1453-4023-997f-7ee3c4294b0d", "standard_attr_id": 104642260, "tags": [], "tenant_id": "cd360e00373143fea9f60dc2d48c689d", "updated_at": "2023-05-03T02:34:50Z"}], "shared": false, "stateful": true, "tags": [], "tenant_id": "cd360e00373143fea9f60dc2d48c689d", "updated_at": "2023-05-03T03:36:30Z"}}
changed: [localhost] => (item={'name': 'demo_ssh', 'description': 'Demo security group for SSH access', 'protocol': 'tcp', 'port_range_min': 22, 'port_range_max': 22, 'remote_ip_prefix': '0.0.0.0/0'}) => {"ansible_loop_var": "item", "changed": true, "item": {"description": "Demo security group for SSH access", "name": "demo_ssh", "port_range_max": 22, "port_range_min": 22, "protocol": "tcp", "remote_ip_prefix": "0.0.0.0/0"}, "security_group": {"created_at": "2023-05-03T02:38:55Z", "description": "Demo security group for SSH access", "id": "d752d9cb-1a13-41e6-8a39-56e17b8cbed5", "name": "demo_ssh", "project_id": "cd360e00373143fea9f60dc2d48c689d", "revision_number": 13, "security_group_rules": [{"created_at": "2023-05-03T02:43:54Z", "description": "", "direction": "egress", "ethertype": "IPv6", "id": "456be639-3366-40ae-8e07-70483c733519", "normalized_cidr": "::/0", "port_range_max": null, "port_range_min": null, "project_id": "cd360e00373143fea9f60dc2d48c689d", "protocol": null, "remote_address_group_id": null, "remote_group_id": null, "remote_ip_prefix": "::/0", "revision_number": 0, "security_group_id": "d752d9cb-1a13-41e6-8a39-56e17b8cbed5", "standard_attr_id": 104643286, "tags": [], "tenant_id": "cd360e00373143fea9f60dc2d48c689d", "updated_at": "2023-05-03T02:43:54Z"}, {"created_at": "2023-05-03T02:43:54Z", "description": "", "direction": "egress", "ethertype": "IPv4", "id": "be1255c4-e479-4680-8f63-009fb8d11d7f", "normalized_cidr": "0.0.0.0/0", "port_range_max": null, "port_range_min": null, "project_id": "cd360e00373143fea9f60dc2d48c689d", "protocol": null, "remote_address_group_id": null, "remote_group_id": null, "remote_ip_prefix": "0.0.0.0/0", "revision_number": 0, "security_group_id": "d752d9cb-1a13-41e6-8a39-56e17b8cbed5", "standard_attr_id": 104643289, "tags": [], "tenant_id": "cd360e00373143fea9f60dc2d48c689d", "updated_at": "2023-05-03T02:43:54Z"}, {"created_at": "2023-05-03T02:38:57Z", "description": "", "direction": "ingress", "ethertype": "IPv4", "id": "d7f036a2-576e-4ae7-a5a1-40887378aedc", "normalized_cidr": "0.0.0.0/0", "port_range_max": 5984, "port_range_min": 5984, "project_id": "cd360e00373143fea9f60dc2d48c689d", "protocol": "tcp", "remote_address_group_id": null, "remote_group_id": null, "remote_ip_prefix": "0.0.0.0/0", "revision_number": 0, "security_group_id": "d752d9cb-1a13-41e6-8a39-56e17b8cbed5", "standard_attr_id": 104642764, "tags": [], "tenant_id": "cd360e00373143fea9f60dc2d48c689d", "updated_at": "2023-05-03T02:38:57Z"}], "shared": false, "stateful": true, "tags": [], "tenant_id": "cd360e00373143fea9f60dc2d48c689d", "updated_at": "2023-05-03T03:36:32Z"}}
changed: [localhost] => (item={'name': 'demo_http', 'description': 'Demo security group for HTTP', 'protocol': 'tcp', 'port_range_min': 80, 'port_range_max': 80, 'remote_ip_prefix': '0.0.0.0/0'}) => {"ansible_loop_var": "item", "changed": true, "item": {"description": "Demo security group for HTTP", "name": "demo_http", "port_range_max": 80, "port_range_min": 80, "protocol": "tcp", "remote_ip_prefix": "0.0.0.0/0"}, "security_group": {"created_at": "2023-05-03T02:39:00Z", "description": "Demo security group for HTTP", "id": "5a4cea4c-1e11-47c7-ae3d-3d38efe8c572", "name": "demo_http", "project_id": "cd360e00373143fea9f60dc2d48c689d", "revision_number": 13, "security_group_rules": [{"created_at": "2023-05-03T02:43:56Z", "description": "", "direction": "egress", "ethertype": "IPv4", "id": "15cf3171-219e-46a2-96a8-9726339f8c30", "normalized_cidr": "0.0.0.0/0", "port_range_max": null, "port_range_min": null, "project_id": "cd360e00373143fea9f60dc2d48c689d", "protocol": null, "remote_address_group_id": null, "remote_group_id": null, "remote_ip_prefix": "0.0.0.0/0", "revision_number": 0, "security_group_id": "5a4cea4c-1e11-47c7-ae3d-3d38efe8c572", "standard_attr_id": 104643295, "tags": [], "tenant_id": "cd360e00373143fea9f60dc2d48c689d", "updated_at": "2023-05-03T02:43:56Z"}, {"created_at": "2023-05-03T02:39:01Z", "description": "", "direction": "ingress", "ethertype": "IPv4", "id": "5c96b5b1-aaa6-4a0e-a2f5-4c2f83fe44a5", "normalized_cidr": "0.0.0.0/0", "port_range_max": 5984, "port_range_min": 5984, "project_id": "cd360e00373143fea9f60dc2d48c689d", "protocol": "tcp", "remote_address_group_id": null, "remote_group_id": null, "remote_ip_prefix": "0.0.0.0/0", "revision_number": 0, "security_group_id": "5a4cea4c-1e11-47c7-ae3d-3d38efe8c572", "standard_attr_id": 104642782, "tags": [], "tenant_id": "cd360e00373143fea9f60dc2d48c689d", "updated_at": "2023-05-03T02:39:01Z"}, {"created_at": "2023-05-03T02:43:56Z", "description": "", "direction": "egress", "ethertype": "IPv6", "id": "f974eeb4-1dbf-4f87-ab4d-ba0dd5daa4fb", "normalized_cidr": "::/0", "port_range_max": null, "port_range_min": null, "project_id": "cd360e00373143fea9f60dc2d48c689d", "protocol": null, "remote_address_group_id": null, "remote_group_id": null, "remote_ip_prefix": "::/0", "revision_number": 0, "security_group_id": "5a4cea4c-1e11-47c7-ae3d-3d38efe8c572", "standard_attr_id": 104643292, "tags": [], "tenant_id": "cd360e00373143fea9f60dc2d48c689d", "updated_at": "2023-05-03T02:43:56Z"}], "shared": false, "stateful": true, "tags": [], "tenant_id": "cd360e00373143fea9f60dc2d48c689d", "updated_at": "2023-05-03T03:36:34Z"}}

TASK [openstack-security-group : print sg_group names] *************************
task path: /home/junhual1/ccc/ass2/ansible/roles/openstack-security-group/tasks/main.yaml:28
ok: [localhost] => (item={'name': 'db_tcp', 'description': 'sg for Couchdb access on 5984', 'protocol': 'tcp', 'port_range_min': 22, 'port_range_max': 22, 'remote_ip_prefix': '0.0.0.0/0'}) => {
    "msg": "sgnames: ['db_tcp']"
}
ok: [localhost] => (item={'name': 'demo_ssh', 'description': 'Demo security group for SSH access', 'protocol': 'tcp', 'port_range_min': 22, 'port_range_max': 22, 'remote_ip_prefix': '0.0.0.0/0'}) => {
    "msg": "sgnames: ['demo_ssh']"
}
ok: [localhost] => (item={'name': 'demo_http', 'description': 'Demo security group for HTTP', 'protocol': 'tcp', 'port_range_min': 80, 'port_range_max': 80, 'remote_ip_prefix': '0.0.0.0/0'}) => {
    "msg": "sgnames: ['demo_http']"
}

TASK [openstack-security-group : Create a list of security group names] ********
task path: /home/junhual1/ccc/ass2/ansible/roles/openstack-security-group/tasks/main.yaml:33
ok: [localhost] => (item={'name': 'db_tcp', 'description': 'sg for Couchdb access on 5984', 'protocol': 'tcp', 'port_range_min': 22, 'port_range_max': 22, 'remote_ip_prefix': '0.0.0.0/0'}) => {"ansible_facts": {"sg_names": ["db_tcp"]}, "ansible_loop_var": "item", "changed": false, "item": {"description": "sg for Couchdb access on 5984", "name": "db_tcp", "port_range_max": 22, "port_range_min": 22, "protocol": "tcp", "remote_ip_prefix": "0.0.0.0/0"}}
ok: [localhost] => (item={'name': 'demo_ssh', 'description': 'Demo security group for SSH access', 'protocol': 'tcp', 'port_range_min': 22, 'port_range_max': 22, 'remote_ip_prefix': '0.0.0.0/0'}) => {"ansible_facts": {"sg_names": ["db_tcp", "demo_ssh"]}, "ansible_loop_var": "item", "changed": false, "item": {"description": "Demo security group for SSH access", "name": "demo_ssh", "port_range_max": 22, "port_range_min": 22, "protocol": "tcp", "remote_ip_prefix": "0.0.0.0/0"}}
ok: [localhost] => (item={'name': 'demo_http', 'description': 'Demo security group for HTTP', 'protocol': 'tcp', 'port_range_min': 80, 'port_range_max': 80, 'remote_ip_prefix': '0.0.0.0/0'}) => {"ansible_facts": {"sg_names": ["db_tcp", "demo_ssh", "demo_http"]}, "ansible_loop_var": "item", "changed": false, "item": {"description": "Demo security group for HTTP", "name": "demo_http", "port_range_max": 80, "port_range_min": 80, "protocol": "tcp", "remote_ip_prefix": "0.0.0.0/0"}}

TASK [openstack-security-group : ansible.builtin.debug] ************************
task path: /home/junhual1/ccc/ass2/ansible/roles/openstack-security-group/tasks/main.yaml:38
ok: [localhost] => {
    "msg": "Security group(s) ['db_tcp', 'demo_ssh', 'demo_http'] have been created."
}

TASK [openstack-security-group : Create security group rules] ******************
task path: /home/junhual1/ccc/ass2/ansible/roles/openstack-security-group/tasks/main.yaml:42
changed: [localhost] => (item={'name': 'db_tcp', 'description': 'sg for Couchdb access on 5984', 'protocol': 'tcp', 'port_range_min': 22, 'port_range_max': 22, 'remote_ip_prefix': '0.0.0.0/0'}) => {"ansible_loop_var": "item", "changed": true, "item": {"description": "sg for Couchdb access on 5984", "name": "db_tcp", "port_range_max": 22, "port_range_min": 22, "protocol": "tcp", "remote_ip_prefix": "0.0.0.0/0"}, "rule": {"created_at": "2023-05-03T03:36:37Z", "description": "", "direction": "ingress", "ether_type": "IPv4", "id": "dc812938-9c64-4db1-af12-c3d7f0619f33", "name": null, "normalized_cidr": "0.0.0.0/0", "port_range_max": 22, "port_range_min": 22, "project_id": "cd360e00373143fea9f60dc2d48c689d", "protocol": "tcp", "remote_address_group_id": null, "remote_group_id": null, "remote_ip_prefix": "0.0.0.0/0", "revision_number": 0, "security_group_id": "658bdd56-1453-4023-997f-7ee3c4294b0d", "tags": [], "tenant_id": "cd360e00373143fea9f60dc2d48c689d", "updated_at": "2023-05-03T03:36:37Z"}}
changed: [localhost] => (item={'name': 'demo_ssh', 'description': 'Demo security group for SSH access', 'protocol': 'tcp', 'port_range_min': 22, 'port_range_max': 22, 'remote_ip_prefix': '0.0.0.0/0'}) => {"ansible_loop_var": "item", "changed": true, "item": {"description": "Demo security group for SSH access", "name": "demo_ssh", "port_range_max": 22, "port_range_min": 22, "protocol": "tcp", "remote_ip_prefix": "0.0.0.0/0"}, "rule": {"created_at": "2023-05-03T03:36:38Z", "description": "", "direction": "ingress", "ether_type": "IPv4", "id": "e49533a4-e238-4bcf-8e17-d9fed4b82fdd", "name": null, "normalized_cidr": "0.0.0.0/0", "port_range_max": 22, "port_range_min": 22, "project_id": "cd360e00373143fea9f60dc2d48c689d", "protocol": "tcp", "remote_address_group_id": null, "remote_group_id": null, "remote_ip_prefix": "0.0.0.0/0", "revision_number": 0, "security_group_id": "d752d9cb-1a13-41e6-8a39-56e17b8cbed5", "tags": [], "tenant_id": "cd360e00373143fea9f60dc2d48c689d", "updated_at": "2023-05-03T03:36:38Z"}}
changed: [localhost] => (item={'name': 'demo_http', 'description': 'Demo security group for HTTP', 'protocol': 'tcp', 'port_range_min': 80, 'port_range_max': 80, 'remote_ip_prefix': '0.0.0.0/0'}) => {"ansible_loop_var": "item", "changed": true, "item": {"description": "Demo security group for HTTP", "name": "demo_http", "port_range_max": 80, "port_range_min": 80, "protocol": "tcp", "remote_ip_prefix": "0.0.0.0/0"}, "rule": {"created_at": "2023-05-03T03:36:39Z", "description": "", "direction": "ingress", "ether_type": "IPv4", "id": "fa7fde49-d5fc-4ff0-9f77-487fc828c0e8", "name": null, "normalized_cidr": "0.0.0.0/0", "port_range_max": 80, "port_range_min": 80, "project_id": "cd360e00373143fea9f60dc2d48c689d", "protocol": "tcp", "remote_address_group_id": null, "remote_group_id": null, "remote_ip_prefix": "0.0.0.0/0", "revision_number": 0, "security_group_id": "5a4cea4c-1e11-47c7-ae3d-3d38efe8c572", "tags": [], "tenant_id": "cd360e00373143fea9f60dc2d48c689d", "updated_at": "2023-05-03T03:36:39Z"}}
META: role_complete for localhost

TASK [openstack-instance : Create an instance] *********************************
task path: /home/junhual1/ccc/ass2/ansible/roles/openstack-instance/tasks/main.yaml:3
ok: [localhost] => (item={'name': 'sample-1', 'volumes': ['sample-vol-1']}) => {"ansible_loop_var": "item", "changed": false, "item": {"name": "sample-1", "volumes": ["sample-vol-1"]}, "server": {"access_ipv4": "", "access_ipv6": "", "addresses": {"qh2-uom-internal": [{"OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:46:6c:ab", "OS-EXT-IPS:type": "fixed", "addr": "172.26.128.190", "version": 4}]}, "admin_password": null, "attached_volumes": [{"attachment_id": null, "bdm_id": null, "delete_on_termination": false, "device": null, "id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1", "location": null, "name": null, "tag": null, "volume_id": null}], "availability_zone": "melbourne-qh2-uom", "block_device_mapping": null, "compute_host": null, "config_drive": "", "created_at": "2023-05-03T02:50:28Z", "description": null, "disk_config": "MANUAL", "fault": null, "flavor": {"description": null, "disk": 30, "ephemeral": 0, "extra_specs": {"aggregate_instance_extra_specs:flavor": "uom-mse", "flavor_class:name": "uom-mse", "hw:cpu_sockets": "1", "nectar:rate:disabled": "true"}, "id": "uom.mse.1c4g", "is_disabled": null, "is_public": true, "location": null, "name": "uom.mse.1c4g", "original_name": "uom.mse.1c4g", "ram": 4608, "rxtx_factor": null, "swap": 0, "vcpus": 1}, "flavor_id": null, "has_config_drive": "", "host_id": "83a7ee25075d848a6948b7eaaab9d48f70a6d1a7d2579235f27d362d", "host_status": null, "hostname": null, "hypervisor_hostname": null, "id": "400d449d-7f6a-43e8-8621-e841f4728034", "image": {"architecture": null, "checksum": null, "container_format": null, "created_at": null, "direct_url": null, "disk_format": null, "file": null, "has_auto_disk_config": null, "hash_algo": null, "hash_value": null, "hw_cpu_cores": null, "hw_cpu_policy": null, "hw_cpu_sockets": null, "hw_cpu_thread_policy": null, "hw_cpu_threads": null, "hw_disk_bus": null, "hw_machine_type": null, "hw_qemu_guest_agent": null, "hw_rng_model": null, "hw_scsi_model": null, "hw_serial_port_count": null, "hw_video_model": null, "hw_video_ram": null, "hw_vif_model": null, "hw_watchdog_action": null, "hypervisor_type": null, "id": "bbaf16f8-2484-48d7-b455-42209cc4b8d2", "instance_type_rxtx_factor": null, "instance_uuid": null, "is_hidden": null, "is_hw_boot_menu_enabled": null, "is_hw_vif_multiqueue_enabled": null, "is_protected": null, "kernel_id": null, "location": null, "locations": null, "metadata": null, "min_disk": null, "min_ram": null, "name": null, "needs_config_drive": null, "needs_secure_boot": null, "os_admin_user": null, "os_command_line": null, "os_distro": null, "os_require_quiesce": null, "os_shutdown_timeout": null, "os_type": null, "os_version": null, "owner": null, "owner_id": null, "properties": {"links": [{"href": "https://nova.rc.nectar.org.au:8774/images/bbaf16f8-2484-48d7-b455-42209cc4b8d2", "rel": "bookmark"}]}, "ramdisk_id": null, "schema": null, "size": null, "status": null, "store": null, "tags": [], "updated_at": null, "url": null, "virtual_size": null, "visibility": null, "vm_mode": null, "vmware_adaptertype": null, "vmware_ostype": null}, "image_id": null, "instance_name": null, "is_locked": false, "kernel_id": null, "key_name": "Bruce_public", "launch_index": null, "launched_at": "2023-05-03T02:53:13.000000", "links": [{"href": "https://nova.rc.nectar.org.au:8774/v2.1/servers/400d449d-7f6a-43e8-8621-e841f4728034", "rel": "self"}, {"href": "https://nova.rc.nectar.org.au:8774/servers/400d449d-7f6a-43e8-8621-e841f4728034", "rel": "bookmark"}], "max_count": null, "metadata": {}, "min_count": null, "name": "sample-1", "networks": null, "power_state": 1, "progress": 0, "project_id": "cd360e00373143fea9f60dc2d48c689d", "ramdisk_id": null, "reservation_id": null, "root_device_name": null, "scheduler_hints": null, "security_groups": [{"description": "sg for Couchdb access on 5984", "id": "658bdd56-1453-4023-997f-7ee3c4294b0d", "name": "db_tcp", "rules": [{"from_port": 22, "group": {}, "id": "dc812938-9c64-4db1-af12-c3d7f0619f33", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "658bdd56-1453-4023-997f-7ee3c4294b0d", "to_port": 22}, {"from_port": 5984, "group": {}, "id": "e28ae89f-46bc-4d26-babc-a6af1c9e199b", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "658bdd56-1453-4023-997f-7ee3c4294b0d", "to_port": 5984}], "tenant_id": "cd360e00373143fea9f60dc2d48c689d"}, {"description": "Demo security group for HTTP", "id": "5a4cea4c-1e11-47c7-ae3d-3d38efe8c572", "name": "demo_http", "rules": [{"from_port": 5984, "group": {}, "id": "5c96b5b1-aaa6-4a0e-a2f5-4c2f83fe44a5", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "5a4cea4c-1e11-47c7-ae3d-3d38efe8c572", "to_port": 5984}, {"from_port": 80, "group": {}, "id": "fa7fde49-d5fc-4ff0-9f77-487fc828c0e8", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "5a4cea4c-1e11-47c7-ae3d-3d38efe8c572", "to_port": 80}], "tenant_id": "cd360e00373143fea9f60dc2d48c689d"}, {"description": "Demo security group for SSH access", "id": "d752d9cb-1a13-41e6-8a39-56e17b8cbed5", "name": "demo_ssh", "rules": [{"from_port": 5984, "group": {}, "id": "d7f036a2-576e-4ae7-a5a1-40887378aedc", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "d752d9cb-1a13-41e6-8a39-56e17b8cbed5", "to_port": 5984}, {"from_port": 22, "group": {}, "id": "e49533a4-e238-4bcf-8e17-d9fed4b82fdd", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "d752d9cb-1a13-41e6-8a39-56e17b8cbed5", "to_port": 22}], "tenant_id": "cd360e00373143fea9f60dc2d48c689d"}], "server_groups": [], "status": "ACTIVE", "tags": [], "task_state": null, "terminated_at": null, "trusted_image_certificates": null, "updated_at": "2023-05-03T02:53:13Z", "user_data": null, "user_id": "decec160246640e2958633e06a4822fb", "vm_state": "active", "volumes": [{"attachment_id": null, "bdm_id": null, "delete_on_termination": false, "device": null, "id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1", "location": null, "name": null, "tag": null, "volume_id": null}]}}

TASK [openstack-instance : ansible.builtin.debug] ******************************
task path: /home/junhual1/ccc/ass2/ansible/roles/openstack-instance/tasks/main.yaml:21
ok: [localhost] => (item={'changed': False, 'server': {'links': [{'rel': 'self', 'href': 'https://nova.rc.nectar.org.au:8774/v2.1/servers/400d449d-7f6a-43e8-8621-e841f4728034'}, {'rel': 'bookmark', 'href': 'https://nova.rc.nectar.org.au:8774/servers/400d449d-7f6a-43e8-8621-e841f4728034'}], 'access_ipv4': '', 'access_ipv6': '', 'addresses': {'qh2-uom-internal': [{'version': 4, 'addr': '172.26.128.190', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:46:6c:ab'}]}, 'admin_password': None, 'attached_volumes': [{'device': None, 'id': '6f6d2de6-9ca4-4f55-852a-94777f3a04e1', 'volume_id': None, 'attachment_id': None, 'bdm_id': None, 'tag': None, 'delete_on_termination': False, 'name': None, 'location': None}], 'volumes': [{'device': None, 'id': '6f6d2de6-9ca4-4f55-852a-94777f3a04e1', 'volume_id': None, 'attachment_id': None, 'bdm_id': None, 'tag': None, 'delete_on_termination': False, 'name': None, 'location': None}], 'availability_zone': 'melbourne-qh2-uom', 'block_device_mapping': None, 'config_drive': '', 'compute_host': None, 'created_at': '2023-05-03T02:50:28Z', 'description': None, 'disk_config': 'MANUAL', 'flavor_id': None, 'flavor': {'name': 'uom.mse.1c4g', 'original_name': 'uom.mse.1c4g', 'description': None, 'disk': 30, 'is_public': True, 'ram': 4608, 'vcpus': 1, 'swap': 0, 'ephemeral': 0, 'is_disabled': None, 'rxtx_factor': None, 'extra_specs': {'aggregate_instance_extra_specs:flavor': 'uom-mse', 'flavor_class:name': 'uom-mse', 'hw:cpu_sockets': '1', 'nectar:rate:disabled': 'true'}, 'id': 'uom.mse.1c4g', 'location': None}, 'has_config_drive': '', 'host_id': '83a7ee25075d848a6948b7eaaab9d48f70a6d1a7d2579235f27d362d', 'fault': None, 'host_status': None, 'hostname': None, 'hypervisor_hostname': None, 'image_id': None, 'image': {'checksum': None, 'container_format': None, 'created_at': None, 'disk_format': None, 'is_hidden': None, 'is_protected': None, 'hash_algo': None, 'hash_value': None, 'min_disk': None, 'min_ram': None, 'name': None, 'owner': None, 'owner_id': None, 'properties': {'links': [{'rel': 'bookmark', 'href': 'https://nova.rc.nectar.org.au:8774/images/bbaf16f8-2484-48d7-b455-42209cc4b8d2'}]}, 'size': None, 'store': None, 'status': None, 'updated_at': None, 'virtual_size': None, 'visibility': None, 'file': None, 'locations': None, 'direct_url': None, 'url': None, 'metadata': None, 'architecture': None, 'hypervisor_type': None, 'instance_type_rxtx_factor': None, 'instance_uuid': None, 'needs_config_drive': None, 'kernel_id': None, 'os_distro': None, 'os_version': None, 'needs_secure_boot': None, 'os_shutdown_timeout': None, 'ramdisk_id': None, 'vm_mode': None, 'hw_cpu_sockets': None, 'hw_cpu_cores': None, 'hw_cpu_threads': None, 'hw_disk_bus': None, 'hw_cpu_policy': None, 'hw_cpu_thread_policy': None, 'hw_rng_model': None, 'hw_machine_type': None, 'hw_scsi_model': None, 'hw_serial_port_count': None, 'hw_video_model': None, 'hw_video_ram': None, 'hw_watchdog_action': None, 'os_command_line': None, 'hw_vif_model': None, 'is_hw_vif_multiqueue_enabled': None, 'is_hw_boot_menu_enabled': None, 'vmware_adaptertype': None, 'vmware_ostype': None, 'has_auto_disk_config': None, 'os_type': None, 'os_admin_user': None, 'hw_qemu_guest_agent': None, 'os_require_quiesce': None, 'schema': None, 'id': 'bbaf16f8-2484-48d7-b455-42209cc4b8d2', 'location': None, 'tags': []}, 'instance_name': None, 'is_locked': False, 'kernel_id': None, 'key_name': 'Bruce_public', 'launch_index': None, 'launched_at': '2023-05-03T02:53:13.000000', 'max_count': None, 'min_count': None, 'networks': None, 'power_state': 1, 'progress': 0, 'project_id': 'cd360e00373143fea9f60dc2d48c689d', 'ramdisk_id': None, 'reservation_id': None, 'root_device_name': None, 'scheduler_hints': None, 'security_groups': [{'id': '658bdd56-1453-4023-997f-7ee3c4294b0d', 'description': 'sg for Couchdb access on 5984', 'name': 'db_tcp', 'tenant_id': 'cd360e00373143fea9f60dc2d48c689d', 'rules': [{'id': 'dc812938-9c64-4db1-af12-c3d7f0619f33', 'parent_group_id': '658bdd56-1453-4023-997f-7ee3c4294b0d', 'ip_protocol': 'tcp', 'from_port': 22, 'to_port': 22, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}, {'id': 'e28ae89f-46bc-4d26-babc-a6af1c9e199b', 'parent_group_id': '658bdd56-1453-4023-997f-7ee3c4294b0d', 'ip_protocol': 'tcp', 'from_port': 5984, 'to_port': 5984, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}]}, {'id': '5a4cea4c-1e11-47c7-ae3d-3d38efe8c572', 'description': 'Demo security group for HTTP', 'name': 'demo_http', 'tenant_id': 'cd360e00373143fea9f60dc2d48c689d', 'rules': [{'id': '5c96b5b1-aaa6-4a0e-a2f5-4c2f83fe44a5', 'parent_group_id': '5a4cea4c-1e11-47c7-ae3d-3d38efe8c572', 'ip_protocol': 'tcp', 'from_port': 5984, 'to_port': 5984, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}, {'id': 'fa7fde49-d5fc-4ff0-9f77-487fc828c0e8', 'parent_group_id': '5a4cea4c-1e11-47c7-ae3d-3d38efe8c572', 'ip_protocol': 'tcp', 'from_port': 80, 'to_port': 80, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}]}, {'id': 'd752d9cb-1a13-41e6-8a39-56e17b8cbed5', 'description': 'Demo security group for SSH access', 'name': 'demo_ssh', 'tenant_id': 'cd360e00373143fea9f60dc2d48c689d', 'rules': [{'id': 'd7f036a2-576e-4ae7-a5a1-40887378aedc', 'parent_group_id': 'd752d9cb-1a13-41e6-8a39-56e17b8cbed5', 'ip_protocol': 'tcp', 'from_port': 5984, 'to_port': 5984, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}, {'id': 'e49533a4-e238-4bcf-8e17-d9fed4b82fdd', 'parent_group_id': 'd752d9cb-1a13-41e6-8a39-56e17b8cbed5', 'ip_protocol': 'tcp', 'from_port': 22, 'to_port': 22, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}]}], 'server_groups': [], 'status': 'ACTIVE', 'task_state': None, 'terminated_at': None, 'trusted_image_certificates': None, 'updated_at': '2023-05-03T02:53:13Z', 'user_data': None, 'user_id': 'decec160246640e2958633e06a4822fb', 'vm_state': 'active', 'id': '400d449d-7f6a-43e8-8621-e841f4728034', 'name': 'sample-1', 'metadata': {}, 'tags': []}, 'invocation': {'module_args': {'name': 'sample-1', 'auto_floating_ip': False, 'availability_zone': 'melbourne-qh2-uom', 'flavor': 'uom.mse.1c4g', 'image': 'bbaf16f8-2484-48d7-b455-42209cc4b8d2', 'key_name': 'Bruce_public', 'security_groups': ['db_tcp', 'demo_ssh', 'demo_http'], 'timeout': 600, 'volumes': ['sample-vol-1'], 'state': 'present', 'wait': True, 'auto_ip': False, 'interface': 'public', 'sdk_log_level': 'INFO', 'boot_from_volume': False, 'config_drive': False, 'delete_ips': False, 'image_exclude': '(deprecated)', 'nics': [], 'reuse_ips': True, 'terminate_volume': False, 'auth_type': None, 'auth': None, 'region_name': None, 'validate_certs': None, 'ca_cert': None, 'client_cert': None, 'client_key': None, 'api_timeout': None, 'sdk_log_path': None, 'boot_volume': None, 'description': None, 'flavor_include': None, 'flavor_ram': None, 'floating_ip_pools': None, 'floating_ips': None, 'metadata': None, 'network': None, 'scheduler_hints': None, 'userdata': None, 'volume_size': None}}, 'failed': False, 'item': {'name': 'sample-1', 'volumes': ['sample-vol-1']}, 'ansible_loop_var': 'item'}) => {
    "msg": "Instance sample-1 has been created. IP address is 172.26.128.190"
}

TASK [openstack-instance : Wait for connection] ********************************
task path: /home/junhual1/ccc/ass2/ansible/roles/openstack-instance/tasks/main.yaml:26
ok: [localhost] => (item={'changed': False, 'server': {'links': [{'rel': 'self', 'href': 'https://nova.rc.nectar.org.au:8774/v2.1/servers/400d449d-7f6a-43e8-8621-e841f4728034'}, {'rel': 'bookmark', 'href': 'https://nova.rc.nectar.org.au:8774/servers/400d449d-7f6a-43e8-8621-e841f4728034'}], 'access_ipv4': '', 'access_ipv6': '', 'addresses': {'qh2-uom-internal': [{'version': 4, 'addr': '172.26.128.190', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:46:6c:ab'}]}, 'admin_password': None, 'attached_volumes': [{'device': None, 'id': '6f6d2de6-9ca4-4f55-852a-94777f3a04e1', 'volume_id': None, 'attachment_id': None, 'bdm_id': None, 'tag': None, 'delete_on_termination': False, 'name': None, 'location': None}], 'volumes': [{'device': None, 'id': '6f6d2de6-9ca4-4f55-852a-94777f3a04e1', 'volume_id': None, 'attachment_id': None, 'bdm_id': None, 'tag': None, 'delete_on_termination': False, 'name': None, 'location': None}], 'availability_zone': 'melbourne-qh2-uom', 'block_device_mapping': None, 'config_drive': '', 'compute_host': None, 'created_at': '2023-05-03T02:50:28Z', 'description': None, 'disk_config': 'MANUAL', 'flavor_id': None, 'flavor': {'name': 'uom.mse.1c4g', 'original_name': 'uom.mse.1c4g', 'description': None, 'disk': 30, 'is_public': True, 'ram': 4608, 'vcpus': 1, 'swap': 0, 'ephemeral': 0, 'is_disabled': None, 'rxtx_factor': None, 'extra_specs': {'aggregate_instance_extra_specs:flavor': 'uom-mse', 'flavor_class:name': 'uom-mse', 'hw:cpu_sockets': '1', 'nectar:rate:disabled': 'true'}, 'id': 'uom.mse.1c4g', 'location': None}, 'has_config_drive': '', 'host_id': '83a7ee25075d848a6948b7eaaab9d48f70a6d1a7d2579235f27d362d', 'fault': None, 'host_status': None, 'hostname': None, 'hypervisor_hostname': None, 'image_id': None, 'image': {'checksum': None, 'container_format': None, 'created_at': None, 'disk_format': None, 'is_hidden': None, 'is_protected': None, 'hash_algo': None, 'hash_value': None, 'min_disk': None, 'min_ram': None, 'name': None, 'owner': None, 'owner_id': None, 'properties': {'links': [{'rel': 'bookmark', 'href': 'https://nova.rc.nectar.org.au:8774/images/bbaf16f8-2484-48d7-b455-42209cc4b8d2'}]}, 'size': None, 'store': None, 'status': None, 'updated_at': None, 'virtual_size': None, 'visibility': None, 'file': None, 'locations': None, 'direct_url': None, 'url': None, 'metadata': None, 'architecture': None, 'hypervisor_type': None, 'instance_type_rxtx_factor': None, 'instance_uuid': None, 'needs_config_drive': None, 'kernel_id': None, 'os_distro': None, 'os_version': None, 'needs_secure_boot': None, 'os_shutdown_timeout': None, 'ramdisk_id': None, 'vm_mode': None, 'hw_cpu_sockets': None, 'hw_cpu_cores': None, 'hw_cpu_threads': None, 'hw_disk_bus': None, 'hw_cpu_policy': None, 'hw_cpu_thread_policy': None, 'hw_rng_model': None, 'hw_machine_type': None, 'hw_scsi_model': None, 'hw_serial_port_count': None, 'hw_video_model': None, 'hw_video_ram': None, 'hw_watchdog_action': None, 'os_command_line': None, 'hw_vif_model': None, 'is_hw_vif_multiqueue_enabled': None, 'is_hw_boot_menu_enabled': None, 'vmware_adaptertype': None, 'vmware_ostype': None, 'has_auto_disk_config': None, 'os_type': None, 'os_admin_user': None, 'hw_qemu_guest_agent': None, 'os_require_quiesce': None, 'schema': None, 'id': 'bbaf16f8-2484-48d7-b455-42209cc4b8d2', 'location': None, 'tags': []}, 'instance_name': None, 'is_locked': False, 'kernel_id': None, 'key_name': 'Bruce_public', 'launch_index': None, 'launched_at': '2023-05-03T02:53:13.000000', 'max_count': None, 'min_count': None, 'networks': None, 'power_state': 1, 'progress': 0, 'project_id': 'cd360e00373143fea9f60dc2d48c689d', 'ramdisk_id': None, 'reservation_id': None, 'root_device_name': None, 'scheduler_hints': None, 'security_groups': [{'id': '658bdd56-1453-4023-997f-7ee3c4294b0d', 'description': 'sg for Couchdb access on 5984', 'name': 'db_tcp', 'tenant_id': 'cd360e00373143fea9f60dc2d48c689d', 'rules': [{'id': 'dc812938-9c64-4db1-af12-c3d7f0619f33', 'parent_group_id': '658bdd56-1453-4023-997f-7ee3c4294b0d', 'ip_protocol': 'tcp', 'from_port': 22, 'to_port': 22, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}, {'id': 'e28ae89f-46bc-4d26-babc-a6af1c9e199b', 'parent_group_id': '658bdd56-1453-4023-997f-7ee3c4294b0d', 'ip_protocol': 'tcp', 'from_port': 5984, 'to_port': 5984, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}]}, {'id': '5a4cea4c-1e11-47c7-ae3d-3d38efe8c572', 'description': 'Demo security group for HTTP', 'name': 'demo_http', 'tenant_id': 'cd360e00373143fea9f60dc2d48c689d', 'rules': [{'id': '5c96b5b1-aaa6-4a0e-a2f5-4c2f83fe44a5', 'parent_group_id': '5a4cea4c-1e11-47c7-ae3d-3d38efe8c572', 'ip_protocol': 'tcp', 'from_port': 5984, 'to_port': 5984, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}, {'id': 'fa7fde49-d5fc-4ff0-9f77-487fc828c0e8', 'parent_group_id': '5a4cea4c-1e11-47c7-ae3d-3d38efe8c572', 'ip_protocol': 'tcp', 'from_port': 80, 'to_port': 80, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}]}, {'id': 'd752d9cb-1a13-41e6-8a39-56e17b8cbed5', 'description': 'Demo security group for SSH access', 'name': 'demo_ssh', 'tenant_id': 'cd360e00373143fea9f60dc2d48c689d', 'rules': [{'id': 'd7f036a2-576e-4ae7-a5a1-40887378aedc', 'parent_group_id': 'd752d9cb-1a13-41e6-8a39-56e17b8cbed5', 'ip_protocol': 'tcp', 'from_port': 5984, 'to_port': 5984, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}, {'id': 'e49533a4-e238-4bcf-8e17-d9fed4b82fdd', 'parent_group_id': 'd752d9cb-1a13-41e6-8a39-56e17b8cbed5', 'ip_protocol': 'tcp', 'from_port': 22, 'to_port': 22, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}]}], 'server_groups': [], 'status': 'ACTIVE', 'task_state': None, 'terminated_at': None, 'trusted_image_certificates': None, 'updated_at': '2023-05-03T02:53:13Z', 'user_data': None, 'user_id': 'decec160246640e2958633e06a4822fb', 'vm_state': 'active', 'id': '400d449d-7f6a-43e8-8621-e841f4728034', 'name': 'sample-1', 'metadata': {}, 'tags': []}, 'invocation': {'module_args': {'name': 'sample-1', 'auto_floating_ip': False, 'availability_zone': 'melbourne-qh2-uom', 'flavor': 'uom.mse.1c4g', 'image': 'bbaf16f8-2484-48d7-b455-42209cc4b8d2', 'key_name': 'Bruce_public', 'security_groups': ['db_tcp', 'demo_ssh', 'demo_http'], 'timeout': 600, 'volumes': ['sample-vol-1'], 'state': 'present', 'wait': True, 'auto_ip': False, 'interface': 'public', 'sdk_log_level': 'INFO', 'boot_from_volume': False, 'config_drive': False, 'delete_ips': False, 'image_exclude': '(deprecated)', 'nics': [], 'reuse_ips': True, 'terminate_volume': False, 'auth_type': None, 'auth': None, 'region_name': None, 'validate_certs': None, 'ca_cert': None, 'client_cert': None, 'client_key': None, 'api_timeout': None, 'sdk_log_path': None, 'boot_volume': None, 'description': None, 'flavor_include': None, 'flavor_ram': None, 'floating_ip_pools': None, 'floating_ips': None, 'metadata': None, 'network': None, 'scheduler_hints': None, 'userdata': None, 'volume_size': None}}, 'failed': False, 'item': {'name': 'sample-1', 'volumes': ['sample-vol-1']}, 'ansible_loop_var': 'item'}) => {"ansible_loop_var": "item", "changed": false, "elapsed": 0, "item": {"ansible_loop_var": "item", "changed": false, "failed": false, "invocation": {"module_args": {"api_timeout": null, "auth": null, "auth_type": null, "auto_floating_ip": false, "auto_ip": false, "availability_zone": "melbourne-qh2-uom", "boot_from_volume": false, "boot_volume": null, "ca_cert": null, "client_cert": null, "client_key": null, "config_drive": false, "delete_ips": false, "description": null, "flavor": "uom.mse.1c4g", "flavor_include": null, "flavor_ram": null, "floating_ip_pools": null, "floating_ips": null, "image": "bbaf16f8-2484-48d7-b455-42209cc4b8d2", "image_exclude": "(deprecated)", "interface": "public", "key_name": "Bruce_public", "metadata": null, "name": "sample-1", "network": null, "nics": [], "region_name": null, "reuse_ips": true, "scheduler_hints": null, "sdk_log_level": "INFO", "sdk_log_path": null, "security_groups": ["db_tcp", "demo_ssh", "demo_http"], "state": "present", "terminate_volume": false, "timeout": 600, "userdata": null, "validate_certs": null, "volume_size": null, "volumes": ["sample-vol-1"], "wait": true}}, "item": {"name": "sample-1", "volumes": ["sample-vol-1"]}, "server": {"access_ipv4": "", "access_ipv6": "", "addresses": {"qh2-uom-internal": [{"OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:46:6c:ab", "OS-EXT-IPS:type": "fixed", "addr": "172.26.128.190", "version": 4}]}, "admin_password": null, "attached_volumes": [{"attachment_id": null, "bdm_id": null, "delete_on_termination": false, "device": null, "id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1", "location": null, "name": null, "tag": null, "volume_id": null}], "availability_zone": "melbourne-qh2-uom", "block_device_mapping": null, "compute_host": null, "config_drive": "", "created_at": "2023-05-03T02:50:28Z", "description": null, "disk_config": "MANUAL", "fault": null, "flavor": {"description": null, "disk": 30, "ephemeral": 0, "extra_specs": {"aggregate_instance_extra_specs:flavor": "uom-mse", "flavor_class:name": "uom-mse", "hw:cpu_sockets": "1", "nectar:rate:disabled": "true"}, "id": "uom.mse.1c4g", "is_disabled": null, "is_public": true, "location": null, "name": "uom.mse.1c4g", "original_name": "uom.mse.1c4g", "ram": 4608, "rxtx_factor": null, "swap": 0, "vcpus": 1}, "flavor_id": null, "has_config_drive": "", "host_id": "83a7ee25075d848a6948b7eaaab9d48f70a6d1a7d2579235f27d362d", "host_status": null, "hostname": null, "hypervisor_hostname": null, "id": "400d449d-7f6a-43e8-8621-e841f4728034", "image": {"architecture": null, "checksum": null, "container_format": null, "created_at": null, "direct_url": null, "disk_format": null, "file": null, "has_auto_disk_config": null, "hash_algo": null, "hash_value": null, "hw_cpu_cores": null, "hw_cpu_policy": null, "hw_cpu_sockets": null, "hw_cpu_thread_policy": null, "hw_cpu_threads": null, "hw_disk_bus": null, "hw_machine_type": null, "hw_qemu_guest_agent": null, "hw_rng_model": null, "hw_scsi_model": null, "hw_serial_port_count": null, "hw_video_model": null, "hw_video_ram": null, "hw_vif_model": null, "hw_watchdog_action": null, "hypervisor_type": null, "id": "bbaf16f8-2484-48d7-b455-42209cc4b8d2", "instance_type_rxtx_factor": null, "instance_uuid": null, "is_hidden": null, "is_hw_boot_menu_enabled": null, "is_hw_vif_multiqueue_enabled": null, "is_protected": null, "kernel_id": null, "location": null, "locations": null, "metadata": null, "min_disk": null, "min_ram": null, "name": null, "needs_config_drive": null, "needs_secure_boot": null, "os_admin_user": null, "os_command_line": null, "os_distro": null, "os_require_quiesce": null, "os_shutdown_timeout": null, "os_type": null, "os_version": null, "owner": null, "owner_id": null, "properties": {"links": [{"href": "https://nova.rc.nectar.org.au:8774/images/bbaf16f8-2484-48d7-b455-42209cc4b8d2", "rel": "bookmark"}]}, "ramdisk_id": null, "schema": null, "size": null, "status": null, "store": null, "tags": [], "updated_at": null, "url": null, "virtual_size": null, "visibility": null, "vm_mode": null, "vmware_adaptertype": null, "vmware_ostype": null}, "image_id": null, "instance_name": null, "is_locked": false, "kernel_id": null, "key_name": "Bruce_public", "launch_index": null, "launched_at": "2023-05-03T02:53:13.000000", "links": [{"href": "https://nova.rc.nectar.org.au:8774/v2.1/servers/400d449d-7f6a-43e8-8621-e841f4728034", "rel": "self"}, {"href": "https://nova.rc.nectar.org.au:8774/servers/400d449d-7f6a-43e8-8621-e841f4728034", "rel": "bookmark"}], "max_count": null, "metadata": {}, "min_count": null, "name": "sample-1", "networks": null, "power_state": 1, "progress": 0, "project_id": "cd360e00373143fea9f60dc2d48c689d", "ramdisk_id": null, "reservation_id": null, "root_device_name": null, "scheduler_hints": null, "security_groups": [{"description": "sg for Couchdb access on 5984", "id": "658bdd56-1453-4023-997f-7ee3c4294b0d", "name": "db_tcp", "rules": [{"from_port": 22, "group": {}, "id": "dc812938-9c64-4db1-af12-c3d7f0619f33", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "658bdd56-1453-4023-997f-7ee3c4294b0d", "to_port": 22}, {"from_port": 5984, "group": {}, "id": "e28ae89f-46bc-4d26-babc-a6af1c9e199b", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "658bdd56-1453-4023-997f-7ee3c4294b0d", "to_port": 5984}], "tenant_id": "cd360e00373143fea9f60dc2d48c689d"}, {"description": "Demo security group for HTTP", "id": "5a4cea4c-1e11-47c7-ae3d-3d38efe8c572", "name": "demo_http", "rules": [{"from_port": 5984, "group": {}, "id": "5c96b5b1-aaa6-4a0e-a2f5-4c2f83fe44a5", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "5a4cea4c-1e11-47c7-ae3d-3d38efe8c572", "to_port": 5984}, {"from_port": 80, "group": {}, "id": "fa7fde49-d5fc-4ff0-9f77-487fc828c0e8", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "5a4cea4c-1e11-47c7-ae3d-3d38efe8c572", "to_port": 80}], "tenant_id": "cd360e00373143fea9f60dc2d48c689d"}, {"description": "Demo security group for SSH access", "id": "d752d9cb-1a13-41e6-8a39-56e17b8cbed5", "name": "demo_ssh", "rules": [{"from_port": 5984, "group": {}, "id": "d7f036a2-576e-4ae7-a5a1-40887378aedc", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "d752d9cb-1a13-41e6-8a39-56e17b8cbed5", "to_port": 5984}, {"from_port": 22, "group": {}, "id": "e49533a4-e238-4bcf-8e17-d9fed4b82fdd", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "d752d9cb-1a13-41e6-8a39-56e17b8cbed5", "to_port": 22}], "tenant_id": "cd360e00373143fea9f60dc2d48c689d"}], "server_groups": [], "status": "ACTIVE", "tags": [], "task_state": null, "terminated_at": null, "trusted_image_certificates": null, "updated_at": "2023-05-03T02:53:13Z", "user_data": null, "user_id": "decec160246640e2958633e06a4822fb", "vm_state": "active", "volumes": [{"attachment_id": null, "bdm_id": null, "delete_on_termination": false, "device": null, "id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1", "location": null, "name": null, "tag": null, "volume_id": null}]}}, "match_groupdict": {}, "match_groups": [], "path": null, "port": 22, "search_regex": "OpenSSH", "state": "started"}

TASK [openstack-instance : Add host] *******************************************
task path: /home/junhual1/ccc/ass2/ansible/roles/openstack-instance/tasks/main.yaml:36
creating host via 'add_host': hostname=172.26.128.190
changed: [localhost] => (item={'changed': False, 'server': {'links': [{'rel': 'self', 'href': 'https://nova.rc.nectar.org.au:8774/v2.1/servers/400d449d-7f6a-43e8-8621-e841f4728034'}, {'rel': 'bookmark', 'href': 'https://nova.rc.nectar.org.au:8774/servers/400d449d-7f6a-43e8-8621-e841f4728034'}], 'access_ipv4': '', 'access_ipv6': '', 'addresses': {'qh2-uom-internal': [{'version': 4, 'addr': '172.26.128.190', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:46:6c:ab'}]}, 'admin_password': None, 'attached_volumes': [{'device': None, 'id': '6f6d2de6-9ca4-4f55-852a-94777f3a04e1', 'volume_id': None, 'attachment_id': None, 'bdm_id': None, 'tag': None, 'delete_on_termination': False, 'name': None, 'location': None}], 'volumes': [{'device': None, 'id': '6f6d2de6-9ca4-4f55-852a-94777f3a04e1', 'volume_id': None, 'attachment_id': None, 'bdm_id': None, 'tag': None, 'delete_on_termination': False, 'name': None, 'location': None}], 'availability_zone': 'melbourne-qh2-uom', 'block_device_mapping': None, 'config_drive': '', 'compute_host': None, 'created_at': '2023-05-03T02:50:28Z', 'description': None, 'disk_config': 'MANUAL', 'flavor_id': None, 'flavor': {'name': 'uom.mse.1c4g', 'original_name': 'uom.mse.1c4g', 'description': None, 'disk': 30, 'is_public': True, 'ram': 4608, 'vcpus': 1, 'swap': 0, 'ephemeral': 0, 'is_disabled': None, 'rxtx_factor': None, 'extra_specs': {'aggregate_instance_extra_specs:flavor': 'uom-mse', 'flavor_class:name': 'uom-mse', 'hw:cpu_sockets': '1', 'nectar:rate:disabled': 'true'}, 'id': 'uom.mse.1c4g', 'location': None}, 'has_config_drive': '', 'host_id': '83a7ee25075d848a6948b7eaaab9d48f70a6d1a7d2579235f27d362d', 'fault': None, 'host_status': None, 'hostname': None, 'hypervisor_hostname': None, 'image_id': None, 'image': {'checksum': None, 'container_format': None, 'created_at': None, 'disk_format': None, 'is_hidden': None, 'is_protected': None, 'hash_algo': None, 'hash_value': None, 'min_disk': None, 'min_ram': None, 'name': None, 'owner': None, 'owner_id': None, 'properties': {'links': [{'rel': 'bookmark', 'href': 'https://nova.rc.nectar.org.au:8774/images/bbaf16f8-2484-48d7-b455-42209cc4b8d2'}]}, 'size': None, 'store': None, 'status': None, 'updated_at': None, 'virtual_size': None, 'visibility': None, 'file': None, 'locations': None, 'direct_url': None, 'url': None, 'metadata': None, 'architecture': None, 'hypervisor_type': None, 'instance_type_rxtx_factor': None, 'instance_uuid': None, 'needs_config_drive': None, 'kernel_id': None, 'os_distro': None, 'os_version': None, 'needs_secure_boot': None, 'os_shutdown_timeout': None, 'ramdisk_id': None, 'vm_mode': None, 'hw_cpu_sockets': None, 'hw_cpu_cores': None, 'hw_cpu_threads': None, 'hw_disk_bus': None, 'hw_cpu_policy': None, 'hw_cpu_thread_policy': None, 'hw_rng_model': None, 'hw_machine_type': None, 'hw_scsi_model': None, 'hw_serial_port_count': None, 'hw_video_model': None, 'hw_video_ram': None, 'hw_watchdog_action': None, 'os_command_line': None, 'hw_vif_model': None, 'is_hw_vif_multiqueue_enabled': None, 'is_hw_boot_menu_enabled': None, 'vmware_adaptertype': None, 'vmware_ostype': None, 'has_auto_disk_config': None, 'os_type': None, 'os_admin_user': None, 'hw_qemu_guest_agent': None, 'os_require_quiesce': None, 'schema': None, 'id': 'bbaf16f8-2484-48d7-b455-42209cc4b8d2', 'location': None, 'tags': []}, 'instance_name': None, 'is_locked': False, 'kernel_id': None, 'key_name': 'Bruce_public', 'launch_index': None, 'launched_at': '2023-05-03T02:53:13.000000', 'max_count': None, 'min_count': None, 'networks': None, 'power_state': 1, 'progress': 0, 'project_id': 'cd360e00373143fea9f60dc2d48c689d', 'ramdisk_id': None, 'reservation_id': None, 'root_device_name': None, 'scheduler_hints': None, 'security_groups': [{'id': '658bdd56-1453-4023-997f-7ee3c4294b0d', 'description': 'sg for Couchdb access on 5984', 'name': 'db_tcp', 'tenant_id': 'cd360e00373143fea9f60dc2d48c689d', 'rules': [{'id': 'dc812938-9c64-4db1-af12-c3d7f0619f33', 'parent_group_id': '658bdd56-1453-4023-997f-7ee3c4294b0d', 'ip_protocol': 'tcp', 'from_port': 22, 'to_port': 22, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}, {'id': 'e28ae89f-46bc-4d26-babc-a6af1c9e199b', 'parent_group_id': '658bdd56-1453-4023-997f-7ee3c4294b0d', 'ip_protocol': 'tcp', 'from_port': 5984, 'to_port': 5984, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}]}, {'id': '5a4cea4c-1e11-47c7-ae3d-3d38efe8c572', 'description': 'Demo security group for HTTP', 'name': 'demo_http', 'tenant_id': 'cd360e00373143fea9f60dc2d48c689d', 'rules': [{'id': '5c96b5b1-aaa6-4a0e-a2f5-4c2f83fe44a5', 'parent_group_id': '5a4cea4c-1e11-47c7-ae3d-3d38efe8c572', 'ip_protocol': 'tcp', 'from_port': 5984, 'to_port': 5984, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}, {'id': 'fa7fde49-d5fc-4ff0-9f77-487fc828c0e8', 'parent_group_id': '5a4cea4c-1e11-47c7-ae3d-3d38efe8c572', 'ip_protocol': 'tcp', 'from_port': 80, 'to_port': 80, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}]}, {'id': 'd752d9cb-1a13-41e6-8a39-56e17b8cbed5', 'description': 'Demo security group for SSH access', 'name': 'demo_ssh', 'tenant_id': 'cd360e00373143fea9f60dc2d48c689d', 'rules': [{'id': 'd7f036a2-576e-4ae7-a5a1-40887378aedc', 'parent_group_id': 'd752d9cb-1a13-41e6-8a39-56e17b8cbed5', 'ip_protocol': 'tcp', 'from_port': 5984, 'to_port': 5984, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}, {'id': 'e49533a4-e238-4bcf-8e17-d9fed4b82fdd', 'parent_group_id': 'd752d9cb-1a13-41e6-8a39-56e17b8cbed5', 'ip_protocol': 'tcp', 'from_port': 22, 'to_port': 22, 'group': {}, 'ip_range': {'cidr': '0.0.0.0/0'}}]}], 'server_groups': [], 'status': 'ACTIVE', 'task_state': None, 'terminated_at': None, 'trusted_image_certificates': None, 'updated_at': '2023-05-03T02:53:13Z', 'user_data': None, 'user_id': 'decec160246640e2958633e06a4822fb', 'vm_state': 'active', 'id': '400d449d-7f6a-43e8-8621-e841f4728034', 'name': 'sample-1', 'metadata': {}, 'tags': []}, 'invocation': {'module_args': {'name': 'sample-1', 'auto_floating_ip': False, 'availability_zone': 'melbourne-qh2-uom', 'flavor': 'uom.mse.1c4g', 'image': 'bbaf16f8-2484-48d7-b455-42209cc4b8d2', 'key_name': 'Bruce_public', 'security_groups': ['db_tcp', 'demo_ssh', 'demo_http'], 'timeout': 600, 'volumes': ['sample-vol-1'], 'state': 'present', 'wait': True, 'auto_ip': False, 'interface': 'public', 'sdk_log_level': 'INFO', 'boot_from_volume': False, 'config_drive': False, 'delete_ips': False, 'image_exclude': '(deprecated)', 'nics': [], 'reuse_ips': True, 'terminate_volume': False, 'auth_type': None, 'auth': None, 'region_name': None, 'validate_certs': None, 'ca_cert': None, 'client_cert': None, 'client_key': None, 'api_timeout': None, 'sdk_log_path': None, 'boot_volume': None, 'description': None, 'flavor_include': None, 'flavor_ram': None, 'floating_ip_pools': None, 'floating_ips': None, 'metadata': None, 'network': None, 'scheduler_hints': None, 'userdata': None, 'volume_size': None}}, 'failed': False, 'item': {'name': 'sample-1', 'volumes': ['sample-vol-1']}, 'ansible_loop_var': 'item'}) => {"add_host": {"groups": ["COMP90024"], "host_name": "172.26.128.190", "host_vars": {}}, "ansible_loop_var": "item", "changed": true, "item": {"ansible_loop_var": "item", "changed": false, "failed": false, "invocation": {"module_args": {"api_timeout": null, "auth": null, "auth_type": null, "auto_floating_ip": false, "auto_ip": false, "availability_zone": "melbourne-qh2-uom", "boot_from_volume": false, "boot_volume": null, "ca_cert": null, "client_cert": null, "client_key": null, "config_drive": false, "delete_ips": false, "description": null, "flavor": "uom.mse.1c4g", "flavor_include": null, "flavor_ram": null, "floating_ip_pools": null, "floating_ips": null, "image": "bbaf16f8-2484-48d7-b455-42209cc4b8d2", "image_exclude": "(deprecated)", "interface": "public", "key_name": "Bruce_public", "metadata": null, "name": "sample-1", "network": null, "nics": [], "region_name": null, "reuse_ips": true, "scheduler_hints": null, "sdk_log_level": "INFO", "sdk_log_path": null, "security_groups": ["db_tcp", "demo_ssh", "demo_http"], "state": "present", "terminate_volume": false, "timeout": 600, "userdata": null, "validate_certs": null, "volume_size": null, "volumes": ["sample-vol-1"], "wait": true}}, "item": {"name": "sample-1", "volumes": ["sample-vol-1"]}, "server": {"access_ipv4": "", "access_ipv6": "", "addresses": {"qh2-uom-internal": [{"OS-EXT-IPS-MAC:mac_addr": "fa:16:3e:46:6c:ab", "OS-EXT-IPS:type": "fixed", "addr": "172.26.128.190", "version": 4}]}, "admin_password": null, "attached_volumes": [{"attachment_id": null, "bdm_id": null, "delete_on_termination": false, "device": null, "id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1", "location": null, "name": null, "tag": null, "volume_id": null}], "availability_zone": "melbourne-qh2-uom", "block_device_mapping": null, "compute_host": null, "config_drive": "", "created_at": "2023-05-03T02:50:28Z", "description": null, "disk_config": "MANUAL", "fault": null, "flavor": {"description": null, "disk": 30, "ephemeral": 0, "extra_specs": {"aggregate_instance_extra_specs:flavor": "uom-mse", "flavor_class:name": "uom-mse", "hw:cpu_sockets": "1", "nectar:rate:disabled": "true"}, "id": "uom.mse.1c4g", "is_disabled": null, "is_public": true, "location": null, "name": "uom.mse.1c4g", "original_name": "uom.mse.1c4g", "ram": 4608, "rxtx_factor": null, "swap": 0, "vcpus": 1}, "flavor_id": null, "has_config_drive": "", "host_id": "83a7ee25075d848a6948b7eaaab9d48f70a6d1a7d2579235f27d362d", "host_status": null, "hostname": null, "hypervisor_hostname": null, "id": "400d449d-7f6a-43e8-8621-e841f4728034", "image": {"architecture": null, "checksum": null, "container_format": null, "created_at": null, "direct_url": null, "disk_format": null, "file": null, "has_auto_disk_config": null, "hash_algo": null, "hash_value": null, "hw_cpu_cores": null, "hw_cpu_policy": null, "hw_cpu_sockets": null, "hw_cpu_thread_policy": null, "hw_cpu_threads": null, "hw_disk_bus": null, "hw_machine_type": null, "hw_qemu_guest_agent": null, "hw_rng_model": null, "hw_scsi_model": null, "hw_serial_port_count": null, "hw_video_model": null, "hw_video_ram": null, "hw_vif_model": null, "hw_watchdog_action": null, "hypervisor_type": null, "id": "bbaf16f8-2484-48d7-b455-42209cc4b8d2", "instance_type_rxtx_factor": null, "instance_uuid": null, "is_hidden": null, "is_hw_boot_menu_enabled": null, "is_hw_vif_multiqueue_enabled": null, "is_protected": null, "kernel_id": null, "location": null, "locations": null, "metadata": null, "min_disk": null, "min_ram": null, "name": null, "needs_config_drive": null, "needs_secure_boot": null, "os_admin_user": null, "os_command_line": null, "os_distro": null, "os_require_quiesce": null, "os_shutdown_timeout": null, "os_type": null, "os_version": null, "owner": null, "owner_id": null, "properties": {"links": [{"href": "https://nova.rc.nectar.org.au:8774/images/bbaf16f8-2484-48d7-b455-42209cc4b8d2", "rel": "bookmark"}]}, "ramdisk_id": null, "schema": null, "size": null, "status": null, "store": null, "tags": [], "updated_at": null, "url": null, "virtual_size": null, "visibility": null, "vm_mode": null, "vmware_adaptertype": null, "vmware_ostype": null}, "image_id": null, "instance_name": null, "is_locked": false, "kernel_id": null, "key_name": "Bruce_public", "launch_index": null, "launched_at": "2023-05-03T02:53:13.000000", "links": [{"href": "https://nova.rc.nectar.org.au:8774/v2.1/servers/400d449d-7f6a-43e8-8621-e841f4728034", "rel": "self"}, {"href": "https://nova.rc.nectar.org.au:8774/servers/400d449d-7f6a-43e8-8621-e841f4728034", "rel": "bookmark"}], "max_count": null, "metadata": {}, "min_count": null, "name": "sample-1", "networks": null, "power_state": 1, "progress": 0, "project_id": "cd360e00373143fea9f60dc2d48c689d", "ramdisk_id": null, "reservation_id": null, "root_device_name": null, "scheduler_hints": null, "security_groups": [{"description": "sg for Couchdb access on 5984", "id": "658bdd56-1453-4023-997f-7ee3c4294b0d", "name": "db_tcp", "rules": [{"from_port": 22, "group": {}, "id": "dc812938-9c64-4db1-af12-c3d7f0619f33", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "658bdd56-1453-4023-997f-7ee3c4294b0d", "to_port": 22}, {"from_port": 5984, "group": {}, "id": "e28ae89f-46bc-4d26-babc-a6af1c9e199b", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "658bdd56-1453-4023-997f-7ee3c4294b0d", "to_port": 5984}], "tenant_id": "cd360e00373143fea9f60dc2d48c689d"}, {"description": "Demo security group for HTTP", "id": "5a4cea4c-1e11-47c7-ae3d-3d38efe8c572", "name": "demo_http", "rules": [{"from_port": 5984, "group": {}, "id": "5c96b5b1-aaa6-4a0e-a2f5-4c2f83fe44a5", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "5a4cea4c-1e11-47c7-ae3d-3d38efe8c572", "to_port": 5984}, {"from_port": 80, "group": {}, "id": "fa7fde49-d5fc-4ff0-9f77-487fc828c0e8", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "5a4cea4c-1e11-47c7-ae3d-3d38efe8c572", "to_port": 80}], "tenant_id": "cd360e00373143fea9f60dc2d48c689d"}, {"description": "Demo security group for SSH access", "id": "d752d9cb-1a13-41e6-8a39-56e17b8cbed5", "name": "demo_ssh", "rules": [{"from_port": 5984, "group": {}, "id": "d7f036a2-576e-4ae7-a5a1-40887378aedc", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "d752d9cb-1a13-41e6-8a39-56e17b8cbed5", "to_port": 5984}, {"from_port": 22, "group": {}, "id": "e49533a4-e238-4bcf-8e17-d9fed4b82fdd", "ip_protocol": "tcp", "ip_range": {"cidr": "0.0.0.0/0"}, "parent_group_id": "d752d9cb-1a13-41e6-8a39-56e17b8cbed5", "to_port": 22}], "tenant_id": "cd360e00373143fea9f60dc2d48c689d"}], "server_groups": [], "status": "ACTIVE", "tags": [], "task_state": null, "terminated_at": null, "trusted_image_certificates": null, "updated_at": "2023-05-03T02:53:13Z", "user_data": null, "user_id": "decec160246640e2958633e06a4822fb", "vm_state": "active", "volumes": [{"attachment_id": null, "bdm_id": null, "delete_on_termination": false, "device": null, "id": "6f6d2de6-9ca4-4f55-852a-94777f3a04e1", "location": null, "name": null, "tag": null, "volume_id": null}]}}}
META: role_complete for localhost
META: ran handlers
META: ran handlers

PLAY [COMP90024] ***************************************************************

TASK [Gathering Facts] *********************************************************
task path: /home/junhual1/ccc/ass2/ansible/mrc.yaml:13
ok: [172.26.128.190]
META: ran handlers

TASK [wp-common : Gather facts of remote host] *********************************
task path: /home/junhual1/ccc/ass2/ansible/roles/wp-common/tasks/main.yaml:2
ok: [172.26.128.190]

TASK [wp-common : Install dependencies] ****************************************
task path: /home/junhual1/ccc/ass2/ansible/roles/wp-common/tasks/main.yaml:6
ok: [172.26.128.190] => {"cache_update_time": 1683085011, "cache_updated": true, "changed": false}

TASK [wp-common : Update pip] **************************************************
task path: /home/junhual1/ccc/ass2/ansible/roles/wp-common/tasks/main.yaml:32
ok: [172.26.128.190] => {"changed": false, "cmd": ["/usr/bin/python3", "-m", "pip.__main__", "install", "-U", "pip"], "name": ["pip"], "requirements": null, "state": "latest", "stderr": "WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv\n", "stderr_lines": ["WARNING: Running pip as the 'root' user can result in broken permissions and conflicting behaviour with the system package manager. It is recommended to use a virtual environment instead: https://pip.pypa.io/warnings/venv"], "stdout": "Requirement already satisfied: pip in /usr/local/lib/python3.10/dist-packages (23.1.2)\n", "stdout_lines": ["Requirement already satisfied: pip in /usr/local/lib/python3.10/dist-packages (23.1.2)"], "version": null, "virtualenv": null}
META: role_complete for 172.26.128.190

TASK [wp-volumes : Install dependencies] ***************************************
task path: /home/junhual1/ccc/ass2/ansible/roles/wp-volumes/tasks/main.yaml:2
ok: [172.26.128.190] => {"cache_update_time": 1683085014, "cache_updated": true, "changed": false}

TASK [wp-volumes : Make file system] *******************************************
task path: /home/junhual1/ccc/ass2/ansible/roles/wp-volumes/tasks/main.yaml:10
redirecting (type: modules) community.general.filesystem to community.general.system.filesystem
redirecting (type: modules) community.general.filesystem to community.general.system.filesystem
ok: [172.26.128.190] => (item={'device': '/dev/vdb', 'mountpoint': '/var/lib/docker'}) => {"ansible_loop_var": "item", "changed": false, "item": {"device": "/dev/vdb", "mountpoint": "/var/lib/docker"}}
redirecting (type: modules) community.general.filesystem to community.general.system.filesystem
redirecting (type: modules) community.general.filesystem to community.general.system.filesystem
failed: [172.26.128.190] (item={'device': '/dev/vdc', 'mountpoint': '/data'}) => {"ansible_loop_var": "item", "changed": false, "item": {"device": "/dev/vdc", "mountpoint": "/data"}, "msg": "Device /dev/vdc not found."}

PLAY RECAP *********************************************************************
172.26.128.190             : ok=5    changed=0    unreachable=0    failed=1    skipped=0    rescued=0    ignored=0   
localhost                  : ok=13   changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   

