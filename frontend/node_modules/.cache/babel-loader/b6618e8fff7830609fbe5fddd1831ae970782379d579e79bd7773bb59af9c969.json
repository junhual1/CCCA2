{"ast":null,"code":"import _regeneratorRuntime from \"/Users/eddiediedie/Desktop/CCCA2/CCC_A2/CCCA2/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _toConsumableArray from \"/Users/eddiediedie/Desktop/CCCA2/CCC_A2/CCCA2/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _asyncToGenerator from \"/Users/eddiediedie/Desktop/CCCA2/CCC_A2/CCCA2/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport axios from 'axios';\nimport * as echarts from 'echarts';\nimport 'echarts/lib/chart/bar';\nimport 'echarts/lib/chart/line';\nimport 'echarts/lib/component/tooltip';\nimport 'echarts/lib/component/toolbox';\nimport 'echarts/lib/component/legend';\nimport 'echarts/lib/component/title';\nexport default {\n  data: function data() {\n    return {\n      twi_data: null,\n      sudo_data: null,\n      twi_perc: [],\n      sudo_perc: [],\n      twi_city: [],\n      sudo_city: [],\n      twi_max_perc: null,\n      sudo_max_perc: null,\n      twi_rank: [],\n      sudo_rank: [],\n      twi_color: [],\n      sudo_color: []\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var twi_scenario, sudo_scenario, state, twiResponse, sudoResponse;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            twi_scenario = _this.$route.params.scenario.split('-')[0];\n            sudo_scenario = _this.$route.params.scenario.split('-')[1];\n            state = _this.$route.params.state; // console.log(twi_scenario)\n            // console.log(sudo_scenario)\n            // console.log(state)\n            _context.prev = 3;\n            _context.next = 6;\n            return axios.get(\"http://127.0.0.1:5000/api_twi_state_city/\".concat(twi_scenario, \"/\").concat(state));\n          case 6:\n            twiResponse = _context.sent;\n            _this.twi_data = twiResponse.data.results;\n            _this.twi_data.forEach(function (twi) {\n              _this.twi_city.push(twi.city);\n              _this.twi_perc.push(twi.percentage.toFixed(3));\n              _this.twi_rank.push(twi.rank);\n            });\n            _this.twi_rank.forEach(function (rank) {\n              if (rank === 0) {\n                _this.twi_color.push('#696969');\n              } else if (rank === 1) {\n                _this.twi_color.push('#ff6347');\n              } else if (rank === -1) {\n                _this.twi_color.push('#1e90ff');\n              }\n            });\n            // console.log(this.twi_color)\n            _this.twi_max_perc = Math.ceil(Math.max.apply(Math, _toConsumableArray(_this.twi_perc)));\n            _context.next = 16;\n            break;\n          case 13:\n            _context.prev = 13;\n            _context.t0 = _context[\"catch\"](3);\n            console.error('Failed to fetch Twitter data:', _context.t0);\n          case 16:\n            _context.prev = 16;\n            _context.next = 19;\n            return axios.get(\"http://127.0.0.1:5000/api_sudo_state_city/\".concat(sudo_scenario, \"/\").concat(state));\n          case 19:\n            sudoResponse = _context.sent;\n            _this.sudo_data = sudoResponse.data.results;\n            _this.sudo_data.forEach(function (sudo) {\n              _this.sudo_city.push(sudo.city);\n              _this.sudo_perc.push(sudo.percentage.toFixed(3));\n              _this.sudo_rank.push(sudo.rank);\n            });\n            _this.sudo_rank.forEach(function (rank) {\n              if (rank === 0) {\n                _this.sudo_color.push('#c0c0c0');\n              } else if (rank === 1) {\n                _this.sudo_color.push('#c0c0c0');\n              } else if (rank === -1) {\n                _this.sudo_color.push('#c0c0c0');\n              }\n            });\n            _this.sudo_max_perc = Math.ceil(Math.max.apply(Math, _toConsumableArray(_this.sudo_perc)));\n            _context.next = 29;\n            break;\n          case 26:\n            _context.prev = 26;\n            _context.t1 = _context[\"catch\"](16);\n            console.error('Failed to fetch Sudo data:', _context.t1);\n          case 29:\n            _this.initChart();\n          case 30:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[3, 13], [16, 26]]);\n    }))();\n  },\n  methods: {\n    initChart: function initChart() {\n      var _this2 = this;\n      var chartDom = document.getElementById('chart');\n      var myChart = echarts.init(chartDom);\n      var option = {\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'cross',\n            crossStyle: {\n              color: '#999'\n            }\n          }\n        },\n        // legend: {\n        //   data: ['Twitter', 'Sudo']\n        // },\n        xAxis: [{\n          type: 'category',\n          data: this.twi_city,\n          axisPointer: {\n            type: 'shadow'\n          },\n          axisLabel: {\n            rotate: -45\n          }\n        }],\n        yAxis: [{\n          type: 'value',\n          name: 'Twitter',\n          min: 0,\n          max: this.twi_max_perc,\n          interval: 0.5,\n          axisLabel: {\n            formatter: '{value} %'\n          }\n        }, {\n          type: 'value',\n          name: 'Sudo',\n          min: 0,\n          max: this.sudo_max_perc,\n          interval: 10,\n          axisLabel: {\n            formatter: '{value} %'\n          }\n        }],\n        series: [{\n          name: 'Twitter',\n          type: 'bar',\n          itemStyle: {\n            color: function color(params) {\n              return _this2.twi_color[params.dataIndex];\n            }\n          },\n          tooltip: {\n            formatter: '{c} %'\n          },\n          data: this.twi_perc\n        }, {\n          name: 'Sudo',\n          type: 'bar',\n          yAxisIndex: 1,\n          itemStyle: {\n            color: function color(params) {\n              return _this2.sudo_color[params.dataIndex];\n            }\n          },\n          tooltip: {\n            formatter: '{c} %'\n          },\n          data: this.sudo_perc\n        }]\n      };\n      // Your chart options here\n\n      myChart.setOption(option);\n    }\n  }\n};","map":{"version":3,"names":["axios","echarts","data","twi_data","sudo_data","twi_perc","sudo_perc","twi_city","sudo_city","twi_max_perc","sudo_max_perc","twi_rank","sudo_rank","twi_color","sudo_color","mounted","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","twi_scenario","sudo_scenario","state","twiResponse","sudoResponse","wrap","_callee$","_context","prev","next","$route","params","scenario","split","get","concat","sent","results","forEach","twi","push","city","percentage","toFixed","rank","Math","ceil","max","apply","_toConsumableArray","t0","console","error","sudo","t1","initChart","stop","methods","_this2","chartDom","document","getElementById","myChart","init","option","tooltip","trigger","axisPointer","type","crossStyle","color","xAxis","axisLabel","rotate","yAxis","name","min","interval","formatter","series","itemStyle","dataIndex","yAxisIndex","setOption"],"sources":["/Users/eddiediedie/Desktop/CCCA2/CCC_A2/CCCA2/frontend/src/components/Chart.vue"],"sourcesContent":["<template>\n  <div id=\"chart\" style=\"width: 1000px; height: 400px;\"></div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport * as echarts from 'echarts';\nimport 'echarts/lib/chart/bar';\nimport 'echarts/lib/chart/line';\nimport 'echarts/lib/component/tooltip';\nimport 'echarts/lib/component/toolbox';\nimport 'echarts/lib/component/legend';\nimport 'echarts/lib/component/title';\n\nexport default {\n  data() {\n    return {\n      twi_data: null,\n      sudo_data: null,\n      twi_perc: [],\n      sudo_perc: [],\n      twi_city: [],\n      sudo_city: [],\n      twi_max_perc: null,\n      sudo_max_perc: null,\n      twi_rank: [],\n      sudo_rank: [],\n      twi_color: [],\n      sudo_color: []\n    }\n  },\n  async mounted() {\n    const twi_scenario = this.$route.params.scenario.split('-')[0];\n    const sudo_scenario = this.$route.params.scenario.split('-')[1];\n    const state = this.$route.params.state;\n\n    // console.log(twi_scenario)\n    // console.log(sudo_scenario)\n    // console.log(state)\n\n    try {\n      const twiResponse = await axios.get(`http://127.0.0.1:5000/api_twi_state_city/${twi_scenario}/${state}`);\n      this.twi_data = twiResponse.data.results;\n      this.twi_data.forEach(twi => {\n        this.twi_city.push(twi.city)\n        this.twi_perc.push(twi.percentage.toFixed(3))\n        this.twi_rank.push(twi.rank)\n      })\n      \n      this.twi_rank.forEach(rank => {\n        if (rank === 0) {\n          this.twi_color.push('#696969')\n        } else if (rank === 1) {\n          this.twi_color.push('#ff6347')\n        } else if (rank === -1) {\n          this.twi_color.push('#1e90ff')\n        }\n      })\n      // console.log(this.twi_color)\n      this.twi_max_perc = Math.ceil(Math.max(...this.twi_perc))\n    } catch (error) {\n      console.error('Failed to fetch Twitter data:', error);\n    }\n\n    try {\n      const sudoResponse = await axios.get(`http://127.0.0.1:5000/api_sudo_state_city/${sudo_scenario}/${state}`);\n      this.sudo_data = sudoResponse.data.results;\n      this.sudo_data.forEach(sudo => {\n        this.sudo_city.push(sudo.city)\n        this.sudo_perc.push(sudo.percentage.toFixed(3))\n        this.sudo_rank.push(sudo.rank)\n      })\n      this.sudo_rank.forEach(rank => {\n        if (rank === 0) {\n          this.sudo_color.push('#c0c0c0')\n        } else if (rank === 1) {\n          this.sudo_color.push('#c0c0c0')\n        } else if (rank === -1) {\n          this.sudo_color.push('#c0c0c0')\n        }\n      })\n      this.sudo_max_perc = Math.ceil(Math.max(...this.sudo_perc))\n    } catch (error) {\n      console.error('Failed to fetch Sudo data:', error);\n    }\n\n    this.initChart();\n  },\n  methods: {\n    initChart() {\n      const chartDom = document.getElementById('chart');\n      const myChart = echarts.init(chartDom);\n      const option = {\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'cross',\n            crossStyle: {\n              color: '#999'\n            }\n          }\n        },\n        // legend: {\n        //   data: ['Twitter', 'Sudo']\n        // },\n        xAxis: [\n          {\n            type: 'category',\n            data: this.twi_city,\n            axisPointer: {\n              type: 'shadow'\n            },\n            axisLabel: {\n              rotate: -45\n            }\n          }\n        ],\n        yAxis: [\n          {\n            type: 'value',\n            name: 'Twitter',\n            min: 0,\n            max: this.twi_max_perc,\n            interval: 0.5,\n            axisLabel: {\n              formatter: '{value} %'\n            }\n          },\n          {\n            type: 'value',\n            name: 'Sudo',\n            min: 0,\n            max: this.sudo_max_perc,\n            interval: 10,\n            axisLabel: {\n              formatter: '{value} %'\n            }\n          }\n          \n        ],\n        series: [\n          {\n            name: 'Twitter',\n            type: 'bar',\n            itemStyle: {\n              color: (params) => {\n                return this.twi_color[params.dataIndex];\n              }\n            },\n            tooltip: {\n              formatter: '{c} %'\n            },\n            data: this.twi_perc\n          },\n          {\n            name: 'Sudo',\n            type: 'bar',\n            yAxisIndex: 1,\n            itemStyle: {\n              color: (params) => {\n                return this.sudo_color[params.dataIndex];\n              }\n            },\n            tooltip: {\n              formatter: '{c} %'\n            },\n            data: this.sudo_perc\n          }\n        ]\n      };\n        // Your chart options here\n      \n      myChart.setOption(option);\n    }\n  }\n}\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}