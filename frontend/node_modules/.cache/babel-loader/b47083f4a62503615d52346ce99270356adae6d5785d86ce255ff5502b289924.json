{"ast":null,"code":"import axios from 'axios';\nimport Chart from 'chart.js';\n// import { Bar } from 'vue-chartjs'\n// import { Chart as ChartJS, Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js'\n\n// ChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale)\n\nexport default {\n  // name: 'BarChart',\n  // components: { Bar },\n  data: function data() {\n    return {\n      mastodonEmployment: null,\n      mastodonAgism: null,\n      mastodonSexism: null\n      // chartData: {\n      //   labels: [ 'Employment', 'Agism', 'Sexism' ],\n      //   datasets: [ { data: [40, mastodonAgism.total, 12] } ]\n      // },\n      // chartOptions: {\n      //   responsive: true\n      // }\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    axios.get('http://127.0.0.1:5000/api_mastodon/unemployment').then(function (response) {\n      _this.mastodonEmployment = response.data.unemployment[0];\n    })[\"catch\"](function (error) {\n      console.error(error);\n    });\n    axios.get('http://127.0.0.1:5000/api_mastodon/agism').then(function (response) {\n      _this.mastodonAgism = response.data.agism[0];\n    })[\"catch\"](function (error) {\n      console.error(error);\n    });\n    axios.get('http://127.0.0.1:5000/api_mastodon/sexism').then(function (response) {\n      _this.mastodonSexism = response.data.sexism[0];\n    })[\"catch\"](function (error) {\n      console.error(error);\n    });\n    // fetch('http://127.0.0.1:5000/api_mastodon/agism')\n    //   .then(res => res.json())\n    //   .then(data => this.mastodonAgism = data)\n    //   .catch(err => console.log(err.message))\n    this.createBarChart();\n  },\n  methods: {\n    createBarChart: function createBarChart() {\n      if (this.mastodonAgism) {\n        var ctx = document.getElementById('myChart').getContext('2d');\n        new Chart(ctx, {\n          type: 'bar',\n          data: {\n            labels: ['Mentioned'],\n            datasets: [{\n              label: 'Values',\n              data: [this.mastodonAgism.mentioned],\n              backgroundColor: 'rgba(75, 192, 192, 0.2)',\n              borderColor: 'rgba(75, 192, 192, 1)',\n              borderWidth: 1\n            }]\n          },\n          options: {\n            responsive: true,\n            scales: {\n              y: {\n                beginAtZero: true\n              }\n            }\n          }\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","Chart","data","mastodonEmployment","mastodonAgism","mastodonSexism","mounted","_this","get","then","response","unemployment","error","console","agism","sexism","createBarChart","methods","ctx","document","getElementById","getContext","type","labels","datasets","label","mentioned","backgroundColor","borderColor","borderWidth","options","responsive","scales","y","beginAtZero"],"sources":["/Users/eddiediedie/Desktop/CCCA2/CCC_A2/CCCA2/frontend/src/components/Chart.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- <h2 v-for=\"item in mastodonAgism\" :key=\"item.mentioned\">{{ item.total }}</h2> -->\n    <!-- <p v-if=\"mastodonAgism\">\n      {{ mastodonAgism }}\n      <br>\n      Mentioned: {{ mastodonAgism.mentioned }}\n      <br>\n      Percentage: {{ mastodonAgism.percentage }}\n      <br>\n      Total: {{ mastodonAgism.total }}\n    </p>\n    <p v-else>Loading...</p>\n    <Bar\n      id=\"chart\"\n      :options=\"chartOptions\"\n      :data=\"chartData\"\n    /> -->\n    <div>\n      <canvas id=\"myChart\"></canvas>\n      <p v-if=\"mastodonAgism\">\n        Mentioned: {{ mastodonEmployment.mentioned }}\n        <br>\n        Percentage: {{ mastodonAgism.percentage }}\n        <br>\n        Total: {{ mastodonSexism.total }}\n      </p>\n      <p v-else>Loading...</p>\n    </div>\n  </div>\n\n</template>\n\n<script>\nimport axios from 'axios';\nimport Chart from 'chart.js';\n// import { Bar } from 'vue-chartjs'\n// import { Chart as ChartJS, Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale } from 'chart.js'\n\n// ChartJS.register(Title, Tooltip, Legend, BarElement, CategoryScale, LinearScale)\n\nexport default {\n  // name: 'BarChart',\n  // components: { Bar },\n  data() {\n    return {\n      mastodonEmployment: null,\n      mastodonAgism: null,\n      mastodonSexism: null,\n      // chartData: {\n      //   labels: [ 'Employment', 'Agism', 'Sexism' ],\n      //   datasets: [ { data: [40, mastodonAgism.total, 12] } ]\n      // },\n      // chartOptions: {\n      //   responsive: true\n      // }\n    }\n  },\n  mounted() {\n    axios.get('http://127.0.0.1:5000/api_mastodon/unemployment')\n      .then(response => {\n        this.mastodonEmployment = response.data.unemployment[0];\n      })\n      .catch(error => {\n        console.error(error);\n      });\n    axios.get('http://127.0.0.1:5000/api_mastodon/agism')\n      .then(response => {\n        this.mastodonAgism = response.data.agism[0];\n      })\n      .catch(error => {\n        console.error(error);\n      });\n    axios.get('http://127.0.0.1:5000/api_mastodon/sexism')\n      .then(response => {\n        this.mastodonSexism = response.data.sexism[0];\n      })\n      .catch(error => {\n        console.error(error);\n      });\n    // fetch('http://127.0.0.1:5000/api_mastodon/agism')\n    //   .then(res => res.json())\n    //   .then(data => this.mastodonAgism = data)\n    //   .catch(err => console.log(err.message))\n    this.createBarChart();\n  },\n  methods: {\n    createBarChart() {\n      if (this.mastodonAgism) {\n        const ctx = document.getElementById('myChart').getContext('2d');\n        new Chart(ctx, {\n          type: 'bar',\n          data: {\n            labels: ['Mentioned'],\n            datasets: [\n              {\n                label: 'Values',\n                data: [this.mastodonAgism.mentioned],\n                backgroundColor: 'rgba(75, 192, 192, 0.2)',\n                borderColor: 'rgba(75, 192, 192, 1)',\n                borderWidth: 1,\n              },\n            ],\n          },\n          options: {\n            responsive: true,\n            scales: {\n              y: {\n                beginAtZero: true,\n              },\n            },\n          },\n        });\n      }\n    },\n  }\n}\n</script>\n\n<style>\n/* #myChart {\n  z-index: 2;\n} */\n</style>"],"mappings":"AAkCA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,KAAI,MAAO,UAAU;AAC5B;AACA;;AAEA;;AAEA,eAAe;EACb;EACA;EACAC,IAAI,WAAAA,KAAA,EAAG;IACL,OAAO;MACLC,kBAAkB,EAAE,IAAI;MACxBC,aAAa,EAAE,IAAI;MACnBC,cAAc,EAAE;MAChB;MACA;MACA;MACA;MACA;MACA;MACA;IACF;EACF,CAAC;EACDC,OAAO,WAAAA,QAAA,EAAG;IAAA,IAAAC,KAAA;IACRP,KAAK,CAACQ,GAAG,CAAC,iDAAiD,EACxDC,IAAI,CAAC,UAAAC,QAAO,EAAK;MAChBH,KAAI,CAACJ,kBAAiB,GAAIO,QAAQ,CAACR,IAAI,CAACS,YAAY,CAAC,CAAC,CAAC;IACzD,CAAC,UACK,CAAC,UAAAC,KAAI,EAAK;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CAAC;IACJZ,KAAK,CAACQ,GAAG,CAAC,0CAA0C,EACjDC,IAAI,CAAC,UAAAC,QAAO,EAAK;MAChBH,KAAI,CAACH,aAAY,GAAIM,QAAQ,CAACR,IAAI,CAACY,KAAK,CAAC,CAAC,CAAC;IAC7C,CAAC,UACK,CAAC,UAAAF,KAAI,EAAK;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CAAC;IACJZ,KAAK,CAACQ,GAAG,CAAC,2CAA2C,EAClDC,IAAI,CAAC,UAAAC,QAAO,EAAK;MAChBH,KAAI,CAACF,cAAa,GAAIK,QAAQ,CAACR,IAAI,CAACa,MAAM,CAAC,CAAC,CAAC;IAC/C,CAAC,UACK,CAAC,UAAAH,KAAI,EAAK;MACdC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CAAC;IACJ;IACA;IACA;IACA;IACA,IAAI,CAACI,cAAc,CAAC,CAAC;EACvB,CAAC;EACDC,OAAO,EAAE;IACPD,cAAc,WAAAA,eAAA,EAAG;MACf,IAAI,IAAI,CAACZ,aAAa,EAAE;QACtB,IAAMc,GAAE,GAAIC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACC,UAAU,CAAC,IAAI,CAAC;QAC/D,IAAIpB,KAAK,CAACiB,GAAG,EAAE;UACbI,IAAI,EAAE,KAAK;UACXpB,IAAI,EAAE;YACJqB,MAAM,EAAE,CAAC,WAAW,CAAC;YACrBC,QAAQ,EAAE,CACR;cACEC,KAAK,EAAE,QAAQ;cACfvB,IAAI,EAAE,CAAC,IAAI,CAACE,aAAa,CAACsB,SAAS,CAAC;cACpCC,eAAe,EAAE,yBAAyB;cAC1CC,WAAW,EAAE,uBAAuB;cACpCC,WAAW,EAAE;YACf,CAAC;UAEL,CAAC;UACDC,OAAO,EAAE;YACPC,UAAU,EAAE,IAAI;YAChBC,MAAM,EAAE;cACNC,CAAC,EAAE;gBACDC,WAAW,EAAE;cACf;YACF;UACF;QACF,CAAC,CAAC;MACJ;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}