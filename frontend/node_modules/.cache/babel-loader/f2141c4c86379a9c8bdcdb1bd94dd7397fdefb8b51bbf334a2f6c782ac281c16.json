{"ast":null,"code":"import _regeneratorRuntime from \"/Users/eddiediedie/Desktop/CCCA2/CCC_A2/CCCA2/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _toConsumableArray from \"/Users/eddiediedie/Desktop/CCCA2/CCC_A2/CCCA2/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _asyncToGenerator from \"/Users/eddiediedie/Desktop/CCCA2/CCC_A2/CCCA2/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport axios from 'axios';\nimport * as echarts from 'echarts';\nimport 'echarts/lib/chart/bar';\nimport 'echarts/lib/chart/line';\nimport 'echarts/lib/component/tooltip';\nimport 'echarts/lib/component/toolbox';\nimport 'echarts/lib/component/legend';\nimport 'echarts/lib/component/title';\nexport default {\n  data: function data() {\n    return {\n      twi_data: null,\n      sudo_data: null,\n      twi_perc: [],\n      sudo_perc: [],\n      twi_city: [],\n      sudo_city: [],\n      max_perc: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var twi_scenario, sudo_scenario, state, twiResponse, sudoResponse;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            twi_scenario = _this.$route.params.scenario.split('-')[0];\n            sudo_scenario = _this.$route.params.scenario.split('-')[1];\n            state = _this.$route.params.state;\n            console.log(twi_scenario);\n            console.log(sudo_scenario);\n            console.log(state);\n            _context.prev = 6;\n            _context.next = 9;\n            return axios.get(\"http://127.0.0.1:5000/api_twi_state_city/\".concat(twi_scenario, \"/\").concat(state));\n          case 9:\n            twiResponse = _context.sent;\n            _this.twi_data = twiResponse.data.results;\n            _this.twi_data.forEach(function (twi) {\n              _this.twi_city.push(twi.city);\n            });\n            _this.twi_data.forEach(function (twi) {\n              _this.twi_perc.push(twi.percentage.toFixed(3));\n            });\n            // console.log(this.twi_city)\n            // console.log(this.twi_perc)\n            _context.next = 18;\n            break;\n          case 15:\n            _context.prev = 15;\n            _context.t0 = _context[\"catch\"](6);\n            console.error('Failed to fetch Twitter data:', _context.t0);\n          case 18:\n            _context.prev = 18;\n            _context.next = 21;\n            return axios.get(\"http://127.0.0.1:5000/api_sudo_state_city/\".concat(sudo_scenario, \"/\").concat(state));\n          case 21:\n            sudoResponse = _context.sent;\n            _this.sudo_data = sudoResponse.data.results;\n            _this.sudo_data.forEach(function (sudo) {\n              _this.sudo_city.push(sudo.city);\n            });\n            _this.sudo_data.forEach(function (sudo) {\n              _this.sudo_perc.push(sudo.percentage.toFixed(3));\n            });\n            _this.max_perc = Math.ceil(Math.max.apply(Math, _toConsumableArray(_this.sudo_perc)));\n\n            // console.log(this.sudo_perc)\n            console.log(_this.max_perc);\n            // console.log(this.sudo_perc)\n            _context.next = 32;\n            break;\n          case 29:\n            _context.prev = 29;\n            _context.t1 = _context[\"catch\"](18);\n            console.error('Failed to fetch Sudo data:', _context.t1);\n          case 32:\n            _this.initChart();\n          case 33:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[6, 15], [18, 29]]);\n    }))();\n  },\n  methods: {\n    initChart: function initChart() {\n      var chartDom = document.getElementById('chart');\n      var myChart = echarts.init(chartDom);\n      var option = {\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'cross',\n            crossStyle: {\n              color: '#999'\n            }\n          }\n        },\n        legend: {\n          data: ['Twitter', 'Sudo']\n        },\n        xAxis: [{\n          type: 'category',\n          data: this.twi_city,\n          axisPointer: {\n            type: 'shadow'\n          }\n        }],\n        yAxis: [{\n          type: 'value',\n          name: 'Twitter',\n          min: 0,\n          max: 1,\n          interval: 0.1,\n          axisLabel: {\n            formatter: '{value} %'\n          }\n        }, {\n          type: 'value',\n          name: 'Sudo',\n          min: 0,\n          max: this.max_perc,\n          interval: 10,\n          axisLabel: {\n            formatter: '{value} %'\n          }\n        }],\n        series: [{\n          name: 'Twitter',\n          type: 'bar',\n          yAxisIndex: 1,\n          tooltip: {\n            valueFormatter: function valueFormatter(value) {\n              return value + ' %';\n            }\n          },\n          data: this.sudo_perc\n        }, {\n          name: 'Sudo',\n          type: 'bar',\n          tooltip: {\n            valueFormatter: function valueFormatter(value) {\n              return value + ' %';\n            }\n          },\n          data: this.twi_perc\n        }]\n      };\n      // Your chart options here\n\n      myChart.setOption(option);\n    }\n  }\n};","map":{"version":3,"names":["axios","echarts","data","twi_data","sudo_data","twi_perc","sudo_perc","twi_city","sudo_city","max_perc","mounted","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","twi_scenario","sudo_scenario","state","twiResponse","sudoResponse","wrap","_callee$","_context","prev","next","$route","params","scenario","split","console","log","get","concat","sent","results","forEach","twi","push","city","percentage","toFixed","t0","error","sudo","Math","ceil","max","apply","_toConsumableArray","t1","initChart","stop","methods","chartDom","document","getElementById","myChart","init","option","tooltip","trigger","axisPointer","type","crossStyle","color","legend","xAxis","yAxis","name","min","interval","axisLabel","formatter","series","yAxisIndex","valueFormatter","value","setOption"],"sources":["/Users/eddiediedie/Desktop/CCCA2/CCC_A2/CCCA2/frontend/src/components/Chart.vue"],"sourcesContent":["<template>\n  <div id=\"chart\" style=\"width: 800px; height: 400px;\"></div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport * as echarts from 'echarts';\nimport 'echarts/lib/chart/bar';\nimport 'echarts/lib/chart/line';\nimport 'echarts/lib/component/tooltip';\nimport 'echarts/lib/component/toolbox';\nimport 'echarts/lib/component/legend';\nimport 'echarts/lib/component/title';\n\nexport default {\n  data() {\n    return {\n      twi_data: null,\n      sudo_data: null,\n      twi_perc: [],\n      sudo_perc: [],\n      twi_city: [],\n      sudo_city: [],\n      max_perc: null\n    }\n  },\n  async mounted() {\n    const twi_scenario = this.$route.params.scenario.split('-')[0];\n    const sudo_scenario = this.$route.params.scenario.split('-')[1];\n    const state = this.$route.params.state;\n\n    console.log(twi_scenario)\n    console.log(sudo_scenario)\n    console.log(state)\n\n    try {\n      const twiResponse = await axios.get(`http://127.0.0.1:5000/api_twi_state_city/${twi_scenario}/${state}`);\n      this.twi_data = twiResponse.data.results;\n      this.twi_data.forEach(twi => {\n        this.twi_city.push(twi.city)\n      })\n      this.twi_data.forEach(twi => {\n        this.twi_perc.push(twi.percentage.toFixed(3))\n      })\n      // console.log(this.twi_city)\n      // console.log(this.twi_perc)\n    } catch (error) {\n      console.error('Failed to fetch Twitter data:', error);\n    }\n\n    try {\n      const sudoResponse = await axios.get(`http://127.0.0.1:5000/api_sudo_state_city/${sudo_scenario}/${state}`);\n      this.sudo_data = sudoResponse.data.results;\n      this.sudo_data.forEach(sudo => {\n        this.sudo_city.push(sudo.city)\n      })\n      this.sudo_data.forEach(sudo => {\n        this.sudo_perc.push(sudo.percentage.toFixed(3))\n      })\n      this.max_perc = Math.ceil(Math.max(...this.sudo_perc))\n\n      // console.log(this.sudo_perc)\n      console.log(this.max_perc)\n      // console.log(this.sudo_perc)\n    } catch (error) {\n      console.error('Failed to fetch Sudo data:', error);\n    }\n\n    this.initChart();\n  },\n  methods: {\n    initChart() {\n      const chartDom = document.getElementById('chart');\n      const myChart = echarts.init(chartDom);\n      const option = {\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'cross',\n            crossStyle: {\n              color: '#999'\n            }\n          }\n        },\n        legend: {\n          data: ['Twitter', 'Sudo']\n        },\n        xAxis: [\n          {\n            type: 'category',\n            data: this.twi_city,\n            axisPointer: {\n              type: 'shadow'\n            }\n          }\n        ],\n        yAxis: [\n          {\n            type: 'value',\n            name: 'Twitter',\n            min: 0,\n            max: 1,\n            interval: 0.1,\n            axisLabel: {\n              formatter: '{value} %'\n            }\n          },\n          {\n            type: 'value',\n            name: 'Sudo',\n            min: 0,\n            max: this.max_perc,\n            interval: 10,\n            axisLabel: {\n              formatter: '{value} %'\n            }\n          }\n        ],\n        series: [\n          {\n            name: 'Twitter',\n            type: 'bar',\n            yAxisIndex: 1,\n            tooltip: {\n              valueFormatter: function (value) {\n                return value + ' %';\n              }\n            },\n            data: this.sudo_perc\n          },\n          {\n            name: 'Sudo',\n            type: 'bar',\n            tooltip: {\n              valueFormatter: function (value) {\n                return value + ' %';\n              }\n            },\n            data: this.twi_perc\n          }\n        ]\n      };\n        // Your chart options here\n      \n      myChart.setOption(option);\n    }\n  }\n}\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}