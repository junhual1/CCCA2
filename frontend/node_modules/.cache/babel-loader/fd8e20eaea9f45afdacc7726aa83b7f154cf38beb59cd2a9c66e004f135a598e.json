{"ast":null,"code":"import _toConsumableArray from \"/Users/eddiediedie/Desktop/CCCA2/CCC_A2/CCCA2/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.number.to-fixed.js\";\nimport axios from 'axios';\nimport * as echarts from 'echarts';\nimport 'echarts/lib/chart/bar';\nimport 'echarts/lib/chart/line';\nimport 'echarts/lib/component/tooltip';\nimport 'echarts/lib/component/toolbox';\nimport 'echarts/lib/component/legend';\nimport 'echarts/lib/component/title';\nexport default {\n  // props: \n  //       ['keyword', 'showChart']\n  //   ,\n  data: function data() {\n    return {\n      mastodonEmployment: null,\n      mastodonAgism: null,\n      mastodonSexism: null,\n      twiEmployment: null,\n      twiAgism: null,\n      twiSexism: null,\n      mastodon_data: [],\n      twi_data: [],\n      mastodon_max: null,\n      twi_max: null\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    Promise.all([axios.get('http://127.0.0.1:5000/api_mastodon/unemployment'), axios.get('http://127.0.0.1:5000/api_mastodon/agism'), axios.get('http://127.0.0.1:5000/api_mastodon/sexism'), axios.get('http://127.0.0.1:5000/api_twi_total/unemployment'), axios.get('http://127.0.0.1:5000/api_twi_total/agism'), axios.get('http://127.0.0.1:5000/api_twi_total/sexism')]).then(function (responses) {\n      _this.mastodonEmployment = responses[0].data.percentage * 100;\n      _this.mastodonAgism = responses[1].data.percentage * 100;\n      _this.mastodonSexism = responses[2].data.percentage * 100;\n      _this.twiEmployment = responses[3].data.summary.percentage * 100;\n      _this.twiAgism = responses[4].data.summary.percentage * 100;\n      _this.twiSexism = responses[5].data.summary.percentage * 100;\n      _this.mastodon_data.push(_this.mastodonEmployment.toFixed(3));\n      _this.mastodon_data.push(_this.mastodonAgism.toFixed(3));\n      _this.mastodon_data.push(_this.mastodonSexism.toFixed(3));\n      _this.twi_data.push(_this.twiEmployment.toFixed(3));\n      _this.twi_data.push(_this.twiAgism.toFixed(3));\n      _this.twi_data.push(_this.twiSexism.toFixed(3));\n      _this.mastodon_max = Math.ceil(Math.max.apply(Math, _toConsumableArray(_this.mastodon_data)) * 10) / 10;\n      _this.twi_max = Math.ceil(Math.max.apply(Math, _toConsumableArray(_this.twi_data)) * 10) / 10;\n      console.log(_this.twi_data);\n      console.log(_this.twi_max);\n      console.log(_this.mastodon_data);\n      console.log(_this.mastodon_max);\n    })[\"catch\"](function (error) {\n      console.error(error);\n    });\n    this.initChart();\n  },\n  methods: {\n    initChart: function initChart() {\n      // const twiMax = Math.min(this.twi_interval.toFixed(3) * 10, Number.MAX_VALUE);\n      // const twuInterval = Number(this.twi_interval.toFixed(3));\n      // const sudoMax = Math.min(this.sudo_interval.toFixed(3) * 10, Number.MAX_VALUE);\n      // const sudoInterval = Number(this.sudo_interval.toFixed(3));\n\n      var chartDom = document.getElementById('Mchart');\n      var myChart = echarts.init(chartDom);\n      var option = {\n        title: {\n          text: 'Comparasion of Topic Discussion Rate Between Twitter and Mastodon',\n          textStyle: {\n            fontSize: 10,\n            fontWeight: 'bold'\n            // color: 'blue'\n          },\n\n          left: 'center',\n          top: 'top'\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'cross',\n            crossStyle: {\n              color: '#999'\n            }\n          }\n        },\n        xAxis: [{\n          type: 'category',\n          data: ['Employment', 'Agism', 'Sexism'],\n          axisPointer: {\n            type: 'shadow'\n          },\n          axisLabel: {\n            rotate: 0\n          }\n        }],\n        yAxis: [{\n          type: 'value',\n          name: 'Twitter',\n          min: 0,\n          max: this.twi_max,\n          // max: 0.4,\n          interval: 0.1,\n          axisLabel: {\n            formatter: '{value} %'\n          }\n        }, {\n          type: 'value',\n          name: 'Mastodon',\n          min: 0,\n          max: this.mastodon_max,\n          // max: 0.6,\n          interval: 0.1,\n          axisLabel: {\n            formatter: '{value} %'\n          }\n        }],\n        series: [{\n          name: 'Twitter',\n          type: 'bar',\n          itemStyle: {\n            color: '#c0c0c0'\n          },\n          tooltip: {\n            formatter: '{c} %'\n          },\n          data: this.twi_data\n          // data: [0.3, 0.2, 0.1]\n        }, {\n          name: 'Sudo',\n          type: 'bar',\n          yAxisIndex: 1,\n          itemStyle: {\n            color: '#c0c0c0'\n          },\n          tooltip: {\n            formatter: '{c} %'\n          },\n          data: this.mastodon_data\n          // data: [0.5, 0.4, 0.3]\n        }]\n      };\n      // Your chart options here\n\n      myChart.setOption(option);\n    }\n  }\n};","map":{"version":3,"names":["axios","echarts","data","mastodonEmployment","mastodonAgism","mastodonSexism","twiEmployment","twiAgism","twiSexism","mastodon_data","twi_data","mastodon_max","twi_max","mounted","_this","Promise","all","get","then","responses","percentage","summary","push","toFixed","Math","ceil","max","apply","_toConsumableArray","console","log","error","initChart","methods","chartDom","document","getElementById","myChart","init","option","title","text","textStyle","fontSize","fontWeight","left","top","tooltip","trigger","axisPointer","type","crossStyle","color","xAxis","axisLabel","rotate","yAxis","name","min","interval","formatter","series","itemStyle","yAxisIndex","setOption"],"sources":["/Users/eddiediedie/Desktop/CCCA2/CCC_A2/CCCA2/frontend/src/components/mastodonChart.vue"],"sourcesContent":["<template>\n  <!-- <div v-if=\"showChart\" class=\"MChart\"> -->\n  <div id=\"Mchart\" style=\"width: 400px; height: 400px;\"></div>\n  <!-- </div> -->\n  \n</template>\n\n<script>\nimport axios from 'axios';\nimport * as echarts from 'echarts';\nimport 'echarts/lib/chart/bar';\nimport 'echarts/lib/chart/line';\nimport 'echarts/lib/component/tooltip';\nimport 'echarts/lib/component/toolbox';\nimport 'echarts/lib/component/legend';\nimport 'echarts/lib/component/title';\n\nexport default {\n  // props: \n  //       ['keyword', 'showChart']\n  //   ,\n  data() {\n    return {\n      mastodonEmployment: null,\n      mastodonAgism: null,\n      mastodonSexism: null,\n      twiEmployment: null,\n      twiAgism: null,\n      twiSexism: null,\n      mastodon_data: [],\n      twi_data: [],\n      mastodon_max: null,\n      twi_max: null\n    }\n  },\n  mounted() {\n    Promise.all([\n      axios.get('http://127.0.0.1:5000/api_mastodon/unemployment'),\n      axios.get('http://127.0.0.1:5000/api_mastodon/agism'),\n      axios.get('http://127.0.0.1:5000/api_mastodon/sexism'),\n\n      axios.get('http://127.0.0.1:5000/api_twi_total/unemployment'),\n      axios.get('http://127.0.0.1:5000/api_twi_total/agism'),\n      axios.get('http://127.0.0.1:5000/api_twi_total/sexism')\n    ])\n      .then(responses => {\n        this.mastodonEmployment = responses[0].data.percentage * 100;\n        this.mastodonAgism = responses[1].data.percentage * 100;\n        this.mastodonSexism = responses[2].data.percentage * 100;\n        this.twiEmployment = responses[3].data.summary.percentage * 100;\n        this.twiAgism = responses[4].data.summary.percentage * 100;\n        this.twiSexism = responses[5].data.summary.percentage * 100;\n        this.mastodon_data.push(this.mastodonEmployment.toFixed(3))\n        this.mastodon_data.push(this.mastodonAgism.toFixed(3))\n        this.mastodon_data.push(this.mastodonSexism.toFixed(3))\n        this.twi_data.push(this.twiEmployment.toFixed(3))\n        this.twi_data.push(this.twiAgism.toFixed(3))\n        this.twi_data.push(this.twiSexism.toFixed(3))\n        this.mastodon_max = Math.ceil(Math.max(...this.mastodon_data) * 10) / 10\n        this.twi_max = Math.ceil(Math.max(...this.twi_data) * 10) / 10\n        console.log(this.twi_data)\n        console.log(this.twi_max)\n        console.log(this.mastodon_data)\n        console.log(this.mastodon_max)\n      })\n      .catch(error => {\n        console.error(error);\n      });\n\n    this.initChart();\n  },\n  methods: {\n    initChart() {\n      // const twiMax = Math.min(this.twi_interval.toFixed(3) * 10, Number.MAX_VALUE);\n      // const twuInterval = Number(this.twi_interval.toFixed(3));\n      // const sudoMax = Math.min(this.sudo_interval.toFixed(3) * 10, Number.MAX_VALUE);\n      // const sudoInterval = Number(this.sudo_interval.toFixed(3));\n\n      const chartDom = document.getElementById('Mchart');\n      const myChart = echarts.init(chartDom);\n      const option = {\n        title: {\n          text: 'Comparasion of Topic Discussion Rate Between Twitter and Mastodon',\n          textStyle: {\n            fontSize: 10,\n            fontWeight: 'bold',\n            // color: 'blue'\n          },\n          left: 'center',\n          top: 'top'\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            type: 'cross',\n            crossStyle: {\n              color: '#999'\n            }\n          }\n        },\n        xAxis: [\n          {\n            type: 'category',\n            data: ['Employment', 'Agism', 'Sexism'],\n            axisPointer: {\n              type: 'shadow'\n            },\n            axisLabel: {\n              rotate: 0\n            }\n          }\n        ],\n        yAxis: [\n          {\n            type: 'value',\n            name: 'Twitter',\n            min: 0,\n            max: this.twi_max,\n            // max: 0.4,\n            interval: 0.1,\n            axisLabel: {\n              formatter: '{value} %'\n            }\n          },\n          {\n            type: 'value',\n            name: 'Mastodon',\n            min: 0,\n            max: this.mastodon_max,\n            // max: 0.6,\n            interval: 0.1,\n            axisLabel: {\n              formatter: '{value} %'\n            }\n          }\n          \n        ],\n        series: [\n          {\n            name: 'Twitter',\n            type: 'bar',\n            itemStyle: {\n              color: '#c0c0c0'\n            },\n            tooltip: {\n              formatter: '{c} %'\n            },\n            data: this.twi_data\n            // data: [0.3, 0.2, 0.1]\n          },\n          {\n            name: 'Sudo',\n            type: 'bar',\n            yAxisIndex: 1,\n            itemStyle: {\n              color: '#c0c0c0'\n            },\n            tooltip: {\n              formatter: '{c} %'\n            },\n            data: this.mastodon_data\n            // data: [0.5, 0.4, 0.3]\n          }\n        ]\n      };\n        // Your chart options here\n      \n      myChart.setOption(option);\n    }\n  }\n}\n</script>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}