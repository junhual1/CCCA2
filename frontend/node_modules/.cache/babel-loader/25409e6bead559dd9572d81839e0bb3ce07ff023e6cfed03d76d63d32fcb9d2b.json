{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nvar _hoisted_1 = /*#__PURE__*/_createElementVNode(\"div\", {\n  \"class\": \"MChart\"\n}, [/*#__PURE__*/_createElementVNode(\"canvas\", {\n  id: \"MChart\",\n  style: {\n    \"width\": \"400px\",\n    \"height\": \"300px\"\n  }\n})], -1 /* HOISTED */);\nvar _hoisted_2 = [_hoisted_1];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, _hoisted_2);\n}","map":{"version":3,"names":["_createElementVNode","id","style","_hoisted_1","_createElementBlock","_hoisted_2"],"sources":["/Users/eddiediedie/Desktop/CCCA2/CCC_A2/CCCA2/frontend/src/components/mastodonChart.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"MChart\">\n      <canvas id=\"MChart\" style=\"width: 400px; height: 300px;\"></canvas>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Chart from 'chart.js/auto';\n\nexport default {\n  data() {\n    return {\n      mastodonEmployment: null,\n      mastodonAgism: null,\n      mastodonSexism: null,\n    }\n  },\n  mounted() {\n    Promise.all([\n      axios.get('http://127.0.0.1:5000/api_mastodon/unemployment'),\n      axios.get('http://127.0.0.1:5000/api_mastodon/agism'),\n      axios.get('http://127.0.0.1:5000/api_mastodon/sexism')\n    ])\n      .then(responses => {\n        this.mastodonEmployment = responses[0].data.unemployment[0];\n        this.mastodonAgism = responses[1].data.agism[0];\n        this.mastodonSexism = responses[2].data.sexism[0];\n        this.createBarChart();\n      })\n      .catch(error => {\n        console.error(error);\n      });\n  },\n  methods: {\n    createBarChart() {\n      if (this.mastodonAgism) {\n        const ctx = document.getElementById('MChart').getContext('2d');\n        new Chart(ctx, {\n          type: 'bar',\n          data: {\n            labels: ['Employment', 'Agism', 'Sexism'],\n            datasets: [\n              {\n                label: 'Percentage',\n                data: [this.mastodonEmployment.percentage, this.mastodonAgism.percentage, this.mastodonSexism.percentage],\n                backgroundColor: 'rgba(0, 0, 0, 0.4)',\n                borderColor: 'rgba(0, 0, 0, 1)',\n                borderWidth: 1,\n              },\n            ],\n          },\n          options: {\n            responsive: true,\n            scales: {\n              y: {\n                beginAtZero: true,\n              },\n            },\n            plugins: {\n              title: {\n                display: true,\n                text: 'Number of mentions of each topic on Mastodon',\n              },\n            },\n          },\n        });\n      }\n    }\n\n  }\n}\n</script>\n\n<style>\n.MChart {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 10%;\n    z-index: 1;\n}\n</style>"],"mappings":";8BAEIA,mBAAA,CAEM;EAFD,SAAM;AAAQ,I,aACjBA,mBAAA,CAAkE;EAA1DC,EAAE,EAAC,QAAQ;EAACC,KAAoC,EAApC;IAAA;IAAA;EAAA;;kBADtBC,UAEM,C;;uBAHRC,mBAAA,CAIM,aAAAC,UAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}