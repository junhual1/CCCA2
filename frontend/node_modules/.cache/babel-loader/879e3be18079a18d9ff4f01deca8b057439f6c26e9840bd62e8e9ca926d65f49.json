{"ast":null,"code":"import _toConsumableArray from \"/Users/eddiediedie/Desktop/CCC_A2/CCCA2/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _objectWithoutProperties from \"/Users/eddiediedie/Desktop/CCC_A2/CCCA2/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _objectSpread from \"/Users/eddiediedie/Desktop/CCC_A2/CCCA2/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _excluded = [\"options\"];\nimport \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport { MarkerClusterer } from '../node_modules/.pnpm/@googlemaps_markerclusterer@2.0.8/node_modules/@googlemaps/markerclusterer/dist/index.esm.js';\nimport mapElementMixin from '../mixins/map-element.js';\nimport { clusterIconMappedProps } from '../utils/mapped-props-by-map-element.js';\nimport { getPropsValues, bindProps, bindEvents } from '../utils/helpers.js';\n\n//\n\n/**\n * Cluster component\n * @displayName GmapCluster\n * @see [source code](/guide/cluster.html#source-code)\n * @see [Official documentation](https://googlemaps.github.io/js-markerclusterer/modules.html)\n * @see [Marker clusterer](https://developers.google.com/maps/documentation/javascript/marker-clustering#maps_marker_clustering-javascript)\n */\nvar script = {\n  name: 'ClusterIcon',\n  mixins: [mapElementMixin],\n  provide: function provide() {\n    var _this = this;\n    // events to bind with toWay\n    var events = ['click', 'rightclick', 'dblclick', 'drag', 'dragstart', 'dragend', 'mouseup', 'mousedown', 'mouseover', 'mouseout'];\n\n    // Infowindow needs this to be immediately available\n    var promise = this.$mapPromise.then(function (map) {\n      _this.$map = map;\n\n      // Initialize the maps with the given options\n      var initialOptions = _objectSpread(_objectSpread({}, _this.options), {}, {\n        map: map\n      }, getPropsValues(_this, clusterIconMappedProps));\n      var extraOptions = initialOptions.options,\n        finalOptions = _objectWithoutProperties(initialOptions, _excluded);\n      if (typeof MarkerClusterer === 'undefined') {\n        throw new Error('MarkerClusterer is not installed! require() it or include it from https://cdnjs.cloudflare.com/ajax/libs/js-marker-clusterer/1.0.0/markerclusterer.js');\n      }\n      var mapInstance = finalOptions.map,\n        markers = finalOptions.markers,\n        algorithm = finalOptions.algorithm,\n        onClusterClick = finalOptions.onClusterClick,\n        renderer = finalOptions.renderer;\n      _this.$clusterObject = new MarkerClusterer({\n        map: mapInstance,\n        markers: markers,\n        algorithm: algorithm,\n        onClusterClick: onClusterClick,\n        renderer: renderer\n      });\n      bindProps(_this, _this.$clusterObject, {});\n      bindEvents(_this, _this.$clusterObject, events);\n      Object.keys({}).forEach(function (prop) {\n        if ({}[prop].twoWay) {\n          _this.$on(\"\".concat(prop.toLowerCase(), \"_changed\"), _this.reinsertMarkers);\n        }\n      });\n      return _this.$clusterObject;\n    })[\"catch\"](function (error) {\n      throw error;\n    });\n\n    // TODO: analyze the efects of only returns the instance and remove completely the promise\n    this.$clusterPromise = promise;\n    return {\n      $clusterPromise: promise\n    };\n  },\n  props: {\n    /**\n     * An algorithm to cluster markers. Default is SuperClusterAlgorithm. Must provide a\n     * calculate method accepting AlgorithmInput and returning an array of Cluster.\n     * @values undefined\n     * @see [algorithm](https://googlemaps.github.io/js-markerclusterer/interfaces/MarkerClustererOptions.html#algorithm)\n     */\n    algorithm: {\n      type: Object,\n      \"default\": undefined\n    },\n    /**\n     * Function to run when the user clicks the cluster.\n     * @values undefined\n     * @see [onClusterClick](https://googlemaps.github.io/js-markerclusterer/interfaces/MarkerClustererOptions.html#onClusterClick)\n     */\n    onClusterClick: {\n      type: Function,\n      \"default\": undefined\n    },\n    /**\n     * An object that converts a Cluster into a `google.maps.Marker`. Default is DefaultRenderer.\n     * @values undefined\n     * @see [renderer](https://googlemaps.github.io/js-markerclusterer/interfaces/MarkerClustererOptions.html#renderer)\n     */\n    renderer: {\n      type: Object,\n      \"default\": undefined\n    },\n    /**\n     * Other options that you can pass to the MarkerClusterer\n     * @values undefined\n     */\n    options: {\n      type: Object,\n      \"default\": undefined\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    var _this2 = this;\n    /* Performance optimization when destroying a large number of markers */\n    this.$children.forEach(function (marker) {\n      if (marker.$clusterObject === _this2.$clusterObject) {\n        marker.$clusterObject = null;\n      }\n    });\n    if (this.$clusterObject) {\n      this.$clusterObject.clearMarkers();\n    }\n  },\n  destroyed: function destroyed() {\n    // Note: not all Google Maps components support maps\n    if (this.$clusterObject && this.$clusterObject.setMap) {\n      this.$clusterObject.setMap(null);\n    }\n  },\n  updated: function updated() {\n    if (this.$clusterObject) {\n      this.$clusterObject.render();\n    }\n  },\n  methods: {\n    reinsertMarkers: function reinsertMarkers() {\n      var oldMarkers = _toConsumableArray(this.$clusterObject.markers);\n      this.$clusterObject.clearMarkers();\n      this.$clusterObject.addMarkers(oldMarkers);\n    }\n  }\n};\nexport { script as default };","map":{"version":3,"names":["MarkerClusterer","mapElementMixin","clusterIconMappedProps","getPropsValues","bindProps","bindEvents","script","name","mixins","provide","_this","events","promise","$mapPromise","then","map","$map","initialOptions","_objectSpread","options","extraOptions","finalOptions","_objectWithoutProperties","_excluded","Error","mapInstance","markers","algorithm","onClusterClick","renderer","$clusterObject","Object","keys","forEach","prop","twoWay","$on","concat","toLowerCase","reinsertMarkers","error","$clusterPromise","props","type","undefined","Function","beforeDestroy","_this2","$children","marker","clearMarkers","destroyed","setMap","updated","render","methods","oldMarkers","_toConsumableArray","addMarkers","default"],"sources":["/Users/eddiediedie/Desktop/CCC_A2/CCCA2/node_modules/gmap-vue/dist/esm/components/cluster-icon.vue_rollup-plugin-vue_script.vue.js"],"sourcesContent":["import { MarkerClusterer } from '../node_modules/.pnpm/@googlemaps_markerclusterer@2.0.8/node_modules/@googlemaps/markerclusterer/dist/index.esm.js';\nimport mapElementMixin from '../mixins/map-element.js';\nimport { clusterIconMappedProps } from '../utils/mapped-props-by-map-element.js';\nimport { getPropsValues, bindProps, bindEvents } from '../utils/helpers.js';\n\n//\n\n/**\n * Cluster component\n * @displayName GmapCluster\n * @see [source code](/guide/cluster.html#source-code)\n * @see [Official documentation](https://googlemaps.github.io/js-markerclusterer/modules.html)\n * @see [Marker clusterer](https://developers.google.com/maps/documentation/javascript/marker-clustering#maps_marker_clustering-javascript)\n */\nvar script = {\n  name: 'ClusterIcon',\n  mixins: [mapElementMixin],\n  provide() {\n    // events to bind with toWay\n    const events = [\n      'click',\n      'rightclick',\n      'dblclick',\n      'drag',\n      'dragstart',\n      'dragend',\n      'mouseup',\n      'mousedown',\n      'mouseover',\n      'mouseout',\n    ];\n\n    // Infowindow needs this to be immediately available\n    const promise = this.$mapPromise\n      .then((map) => {\n        this.$map = map;\n\n        // Initialize the maps with the given options\n        const initialOptions = {\n          // TODO: analyze the below line because I think it can be removed\n          ...this.options,\n          map,\n          ...getPropsValues(this, clusterIconMappedProps),\n        };\n        const { options: extraOptions, ...finalOptions } = initialOptions;\n\n        if (typeof MarkerClusterer === 'undefined') {\n          throw new Error(\n            'MarkerClusterer is not installed! require() it or include it from https://cdnjs.cloudflare.com/ajax/libs/js-marker-clusterer/1.0.0/markerclusterer.js'\n          );\n        }\n\n        const {\n          map: mapInstance,\n          markers,\n          algorithm,\n          onClusterClick,\n          renderer,\n        } = finalOptions;\n\n        this.$clusterObject = new MarkerClusterer({\n          map: mapInstance,\n          markers,\n          algorithm,\n          onClusterClick,\n          renderer,\n        });\n\n        bindProps(this, this.$clusterObject, {});\n        bindEvents(this, this.$clusterObject, events);\n\n        Object.keys({}).forEach((prop) => {\n          if ({}[prop].twoWay) {\n            this.$on(`${prop.toLowerCase()}_changed`, this.reinsertMarkers);\n          }\n        });\n\n        return this.$clusterObject;\n      })\n      .catch((error) => {\n        throw error;\n      });\n\n    // TODO: analyze the efects of only returns the instance and remove completely the promise\n    this.$clusterPromise = promise;\n    return { $clusterPromise: promise };\n  },\n  props: {\n    /**\n     * An algorithm to cluster markers. Default is SuperClusterAlgorithm. Must provide a\n     * calculate method accepting AlgorithmInput and returning an array of Cluster.\n     * @values undefined\n     * @see [algorithm](https://googlemaps.github.io/js-markerclusterer/interfaces/MarkerClustererOptions.html#algorithm)\n     */\n    algorithm: {\n      type: Object,\n      default: undefined,\n    },\n    /**\n     * Function to run when the user clicks the cluster.\n     * @values undefined\n     * @see [onClusterClick](https://googlemaps.github.io/js-markerclusterer/interfaces/MarkerClustererOptions.html#onClusterClick)\n     */\n    onClusterClick: {\n      type: Function,\n      default: undefined,\n    },\n    /**\n     * An object that converts a Cluster into a `google.maps.Marker`. Default is DefaultRenderer.\n     * @values undefined\n     * @see [renderer](https://googlemaps.github.io/js-markerclusterer/interfaces/MarkerClustererOptions.html#renderer)\n     */\n    renderer: {\n      type: Object,\n      default: undefined,\n    },\n    /**\n     * Other options that you can pass to the MarkerClusterer\n     * @values undefined\n     */\n    options: {\n      type: Object,\n      default: undefined,\n    },\n  },\n  beforeDestroy() {\n    /* Performance optimization when destroying a large number of markers */\n    this.$children.forEach((marker) => {\n      if (marker.$clusterObject === this.$clusterObject) {\n        marker.$clusterObject = null;\n      }\n    });\n\n    if (this.$clusterObject) {\n      this.$clusterObject.clearMarkers();\n    }\n  },\n  destroyed() {\n    // Note: not all Google Maps components support maps\n    if (this.$clusterObject && this.$clusterObject.setMap) {\n      this.$clusterObject.setMap(null);\n    }\n  },\n  updated() {\n    if (this.$clusterObject) {\n      this.$clusterObject.render();\n    }\n  },\n  methods: {\n    reinsertMarkers() {\n      const oldMarkers = [...this.$clusterObject.markers];\n      this.$clusterObject.clearMarkers();\n      this.$clusterObject.addMarkers(oldMarkers);\n    },\n  },\n};\n\nexport { script as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}